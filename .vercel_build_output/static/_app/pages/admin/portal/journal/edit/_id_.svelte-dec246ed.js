var xt=Object.defineProperty;var Oe=Object.getOwnPropertySymbols;var Dt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable;var Pe=(o,e,t)=>e in o?xt(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,Se=(o,e)=>{for(var t in e||(e={}))Dt.call(e,t)&&Pe(o,t,e[t]);if(Oe)for(var t of Oe(e))zt.call(e,t)&&Pe(o,t,e[t]);return o};import{a9 as me,S as ne,i as ae,s as re,k as oe,f as B,J as S,d as f,e as y,c as E,a as g,V as He,b as s,W as Fe,H as _,t as W,g as J,I as j,h as Le,v as ce,w as _e,x as ue,p as U,n as A,A as fe,j as N,l as C,m as ve,o as ge,Y as Be,U as je,L as Ie,E as D,F as z,X as de,K as ke,aa as ye,G as Ae,C as qe,Z as Re,_ as We,$ as Je,a0 as Ge,q as Nt,M as Ke,ab as Ct,ac as Vt,ad as Xe,ae as Lt,af as jt,a4 as Mt,a5 as Ye,a3 as Ut}from"../../../../../chunks/vendor-244337ad.js";import{g as Ht}from"../../../../../chunks/navigation-c71191e7.js";import{a as Ze}from"../../../../../chunks/firebase-0599ef83.js";import{S as Me}from"../../../../../chunks/spinner-55541e7e.js";import"../../../../../chunks/singletons-a42a5e91.js";function Ot(){return{id:me(),published:!1,publishedDate:new Date,createdDate:new Date,content:[{id:me(),columns:[{id:me(),items:[{id:me(),type:"Rich Text",payload:{content:'<h1 style="text-align: center;">Title</h1>'}}]}]},{id:me(),columns:[{id:me(),items:[{id:me(),type:"Image",payload:null}]}]},{id:me(),columns:[{id:me(),items:[{id:me(),type:"Rich Text",payload:{content:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam eget eros a dolor pellentesque mattis. Proin et ultricies quam. Duis facilisis diam sit amet magna interdum lobortis. Aliquam a arcu quis purus hendrerit tempus eu vitae mauris. Maecenas placerat nibh vitae libero cursus, in bibendum ipsum laoreet. Donec iaculis tempor ligula, ut blandit leo condimentum ut. Nam iaculis hendrerit ex, id vestibulum urna tincidunt quis. Ut ut tellus facilisis diam imperdiet viverra non vel ipsum. Vivamus sollicitudin et urna quis viverra. Vestibulum lacinia ex nulla, at ultrices odio fringilla at. Proin convallis arcu eget nunc pharetra, a dictum dolor ornare. Etiam at auctor nunc, nec iaculis purus. Integer arcu eros, molestie sit amet felis id, dignissim egestas purus. Nam sed nisi et tortor condimentum lacinia eget sed nunc. Maecenas ex lorem, semper in odio et, iaculis luctus felis.</p>"}}]}]},{id:me(),columns:[{id:me(),items:[{id:me(),type:"Rich Text",payload:{content:"<p>Ut tincidunt, dolor eu pretium consequat, massa sapien commodo turpis, vitae ullamcorper augue nibh eget orci. Vivamus id nisl vel orci tincidunt suscipit. Phasellus placerat metus erat, et consectetur ipsum blandit viverra. Suspendisse imperdiet magna vitae justo semper, eget sodales velit sodales. Nunc mattis mi scelerisque aliquet facilisis. Donec pellentesque ipsum a bibendum lacinia. Nullam ac dui laoreet, placerat dui eu, vehicula odio. Nullam faucibus lectus sed massa suscipit, suscipit varius est aliquet. Nullam sodales arcu lorem, vitae accumsan mi mollis vel.</p>"}},{id:me(),type:"Button",payload:{linkTo:"/",color:"Teal",text:"Call to Action!"}}]}]}],title:"New Post",pdfUrl:null}}class Pt extends ne{constructor(e){super();ae(this,e,null,null,re,{})}}function St(o){let e,t,l;return{c(){e=y("div"),t=y("img"),this.h()},l(i){e=E(i,"DIV",{class:!0});var r=g(e);t=E(r,"IMG",{src:!0,alt:!0,style:!0}),r.forEach(f),this.h()},h(){He(t.src,l="/images/no-image.jpg")||s(t,"src",l),s(t,"alt","Unavailable"),Fe(t,"max-height","500px"),Fe(t,"max-width","500px"),s(e,"class","image-container svelte-5a424d")},m(i,r){B(i,e,r),_(e,t)},p:S,d(i){i&&f(e)}}}function At(o){let e,t,l;return{c(){e=y("div"),t=y("img"),this.h()},l(i){e=E(i,"DIV",{class:!0});var r=g(e);t=E(r,"IMG",{src:!0,alt:!0,style:!0}),r.forEach(f),this.h()},h(){He(t.src,l=o[0].imageUrl)||s(t,"src",l),s(t,"alt","Unavailable"),Fe(t,"max-height",o[0].maxHeight+"px"),Fe(t,"max-width",o[0].maxWidth+"px"),s(e,"class","image-container svelte-5a424d")},m(i,r){B(i,e,r),_(e,t)},p(i,r){r&1&&!He(t.src,l=i[0].imageUrl)&&s(t,"src",l),r&1&&Fe(t,"max-height",i[0].maxHeight+"px"),r&1&&Fe(t,"max-width",i[0].maxWidth+"px")},d(i){i&&f(e)}}}function qt(o){let e;function t(r,n){return r[0]?At:St}let l=t(o),i=l(o);return{c(){i.c(),e=oe()},l(r){i.l(r),e=oe()},m(r,n){i.m(r,n),B(r,e,n)},p(r,[n]){l===(l=t(r))&&i?i.p(r,n):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},i:S,o:S,d(r){i.d(r),r&&f(e)}}}function Rt(o,e,t){let{payload:l}=e;return o.$$set=i=>{"payload"in i&&t(0,l=i.payload)},[l]}class Wt extends ne{constructor(e){super();ae(this,e,Rt,qt,re,{payload:0})}}function Qe(o,e,t){const l=o.slice();return l[5]=e[t],l}function et(o){let e,t=o[5].title+"",l,i,r;function n(){return o[4](o[5])}return{c(){e=y("li"),l=W(t),this.h()},l(c){e=E(c,"LI",{class:!0});var a=g(e);l=J(a,t),a.forEach(f),this.h()},h(){s(e,"class","svelte-1hg5ovi")},m(c,a){B(c,e,a),_(e,l),i||(r=j(e,"click",n),i=!0)},p(c,a){o=c,a&1&&t!==(t=o[5].title+"")&&Le(l,t)},d(c){c&&f(e),i=!1,r()}}}function tt(o){let e,t,l;return t=new Me({props:{width:"1rem",height:"1rem",padding:"0"}}),{c(){e=y("li"),ce(t.$$.fragment),this.h()},l(i){e=E(i,"LI",{class:!0});var r=g(e);_e(t.$$.fragment,r),r.forEach(f),this.h()},h(){s(e,"class","svelte-1hg5ovi")},m(i,r){B(i,e,r),ue(t,e,null),l=!0},i(i){l||(U(t.$$.fragment,i),l=!0)},o(i){A(t.$$.fragment,i),l=!1},d(i){i&&f(e),fe(t)}}}function Jt(o){let e,t,l,i,r,n,c,a,u=o[0].path,h=[];for(let m=0;m<u.length;m+=1)h[m]=et(Qe(o,u,m));let d=o[0].folderLoading&&tt();return{c(){e=y("ol"),t=y("li"),l=W("Media Library"),i=N();for(let m=0;m<h.length;m+=1)h[m].c();r=N(),d&&d.c(),this.h()},l(m){e=E(m,"OL",{class:!0});var v=g(e);t=E(v,"LI",{class:!0});var p=g(t);l=J(p,"Media Library"),p.forEach(f),i=C(v);for(let w=0;w<h.length;w+=1)h[w].l(v);r=C(v),d&&d.l(v),v.forEach(f),this.h()},h(){s(t,"class","svelte-1hg5ovi"),s(e,"class","svelte-1hg5ovi")},m(m,v){B(m,e,v),_(e,t),_(t,l),_(e,i);for(let p=0;p<h.length;p+=1)h[p].m(e,null);_(e,r),d&&d.m(e,null),n=!0,c||(a=j(t,"click",o[3]),c=!0)},p(m,[v]){if(v&5){u=m[0].path;let p;for(p=0;p<u.length;p+=1){const w=Qe(m,u,p);h[p]?h[p].p(w,v):(h[p]=et(w),h[p].c(),h[p].m(e,r))}for(;p<h.length;p+=1)h[p].d(1);h.length=u.length}m[0].folderLoading?d?v&1&&U(d,1):(d=tt(),d.c(),U(d,1),d.m(e,null)):d&&(ve(),A(d,1,1,()=>{d=null}),ge())},i(m){n||(U(d),n=!0)},o(m){A(d),n=!1},d(m){m&&f(e),Be(h,m),d&&d.d(),c=!1,a()}}}function Gt(o,e,t){let l;const i=je("View");Ie(o,i,a=>t(0,l=a));async function r(a){const u=l.path.map(d=>d.id),h=u.indexOf(a);u.splice(h+1,u.length),i.loadFolder(u)}return[l,i,r,()=>r(""),a=>r(a.id)]}class Kt extends ne{constructor(e){super();ae(this,e,Gt,Jt,re,{})}}function lt(o){let e,t,l,i,r,n,c,a;function u(m,v){return m[0].renamingFolder?Yt:Xt}let h=u(o),d=h(o);return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),r=N(),d.c(),n=oe(),this.h()},l(m){e=E(m,"BUTTON",{class:!0});var v=g(e);t=z(v,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var p=g(t);l=z(p,"path",{d:!0}),g(l).forEach(f),i=z(p,"path",{"fill-rule":!0,d:!0}),g(i).forEach(f),p.forEach(f),v.forEach(f),r=C(m),d.l(m),n=oe(),this.h()},h(){s(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),s(i,"fill-rule","evenodd"),s(i,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-trash svelte-1gdakj7"),s(t,"viewBox","0 0 16 16"),s(e,"class","folder-btn svelte-1gdakj7")},m(m,v){B(m,e,v),_(e,t),_(t,l),_(t,i),B(m,r,v),d.m(m,v),B(m,n,v),c||(a=j(e,"click",o[4]),c=!0)},p(m,v){h===(h=u(m))&&d?d.p(m,v):(d.d(1),d=h(m),d&&(d.c(),d.m(n.parentNode,n)))},d(m){m&&f(e),m&&f(r),d.d(m),m&&f(n),c=!1,a()}}}function Xt(o){let e,t,l,i,r,n;return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),this.h()},l(c){e=E(c,"BUTTON",{class:!0});var a=g(e);t=z(a,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=g(t);l=z(u,"path",{d:!0}),g(l).forEach(f),i=z(u,"path",{d:!0}),g(i).forEach(f),u.forEach(f),a.forEach(f),this.h()},h(){s(l,"d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"),s(i,"d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-gear svelte-1gdakj7"),s(t,"viewBox","0 0 16 16"),s(e,"class","folder-btn svelte-1gdakj7")},m(c,a){B(c,e,a),_(e,t),_(t,l),_(t,i),r||(n=j(e,"click",o[8]),r=!0)},p:S,d(c){c&&f(e),r=!1,n()}}}function Yt(o){let e,t,l,i,r,n,c,a,u,h,d,m,v;return{c(){e=y("input"),t=N(),l=y("button"),i=D("svg"),r=D("path"),n=D("path"),c=N(),a=y("button"),u=D("svg"),h=D("path"),d=D("path"),this.h()},l(p){e=E(p,"INPUT",{type:!0}),t=C(p),l=E(p,"BUTTON",{class:!0});var w=g(l);i=z(w,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var k=g(i);r=z(k,"path",{d:!0}),g(r).forEach(f),n=z(k,"path",{d:!0}),g(n).forEach(f),k.forEach(f),w.forEach(f),c=C(p),a=E(p,"BUTTON",{class:!0});var I=g(a);u=z(I,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var b=g(u);h=z(b,"path",{d:!0}),g(h).forEach(f),d=z(b,"path",{d:!0}),g(d).forEach(f),b.forEach(f),I.forEach(f),this.h()},h(){s(e,"type","text"),s(r,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(n,"d","M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"),s(i,"xmlns","http://www.w3.org/2000/svg"),s(i,"width","16"),s(i,"height","16"),s(i,"fill","currentColor"),s(i,"class","bi bi-check-square svelte-1gdakj7"),s(i,"viewBox","0 0 16 16"),s(l,"class","folder-btn svelte-1gdakj7"),s(h,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(d,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"width","16"),s(u,"height","16"),s(u,"fill","currentColor"),s(u,"class","bi bi-x-square svelte-1gdakj7"),s(u,"viewBox","0 0 16 16"),s(a,"class","folder-btn svelte-1gdakj7")},m(p,w){B(p,e,w),de(e,o[0].renameFolderTitle),B(p,t,w),B(p,l,w),_(l,i),_(i,r),_(i,n),B(p,c,w),B(p,a,w),_(a,u),_(u,h),_(u,d),m||(v=[j(e,"input",o[5]),j(l,"click",o[6]),j(a,"click",o[7])],m=!0)},p(p,w){w&1&&e.value!==p[0].renameFolderTitle&&de(e,p[0].renameFolderTitle)},d(p){p&&f(e),p&&f(t),p&&f(l),p&&f(c),p&&f(a),m=!1,ke(v)}}}function Zt(o){let e,t,l,i,r,n,c,a,u=o[0].path.length&&lt(o);return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),r=N(),u&&u.c(),n=oe(),this.h()},l(h){e=E(h,"BUTTON",{class:!0});var d=g(e);t=z(d,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var m=g(t);l=z(m,"path",{d:!0}),g(l).forEach(f),i=z(m,"path",{d:!0}),g(i).forEach(f),m.forEach(f),d.forEach(f),r=C(h),u&&u.l(h),n=oe(),this.h()},h(){s(l,"d","m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"),s(i,"d","M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-folder-plus svelte-1gdakj7"),s(t,"viewBox","0 0 16 16"),s(e,"class","folder-btn svelte-1gdakj7")},m(h,d){B(h,e,d),_(e,t),_(t,l),_(t,i),B(h,r,d),u&&u.m(h,d),B(h,n,d),c||(a=j(e,"click",o[3]),c=!0)},p(h,[d]){h[0].path.length?u?u.p(h,d):(u=lt(h),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null)},i:S,o:S,d(h){h&&f(e),h&&f(r),u&&u.d(h),h&&f(n),c=!1,a()}}}function Qt(o,e,t){let l;const i=je("View");Ie(o,i,v=>t(0,l=v));async function r(v){let p=l.path.map(I=>I.id);p.splice(v+1,p.length),l.path.splice(v+1,l.path.length),ye(i,l.folderLoading=!0,l);let k=await(await fetch("/api/files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:p})})).json();i.update(I=>(I.files=k.files,I.folders=k.folders,I.path=k.path,I.selectedFile=null,I.folderLoading=!1,I))}async function n(v){const p=await fetch("/api/files/delete/"+v,{method:"DELETE"});if(p.ok){const w=await p.json();if(w.type=="File"){const k=l.files.findIndex(I=>I.id==w.targetId);l.files.splice(k,1),ye(i,l.selectedFile=null,l)}w.type=="Folder"&&(l.path.pop(),r(l.path.length-1))}}const c=()=>ye(i,l.showCreateNewFolder=!0,l),a=()=>n(l.path[l.path.length-1].id);function u(){l.renameFolderTitle=this.value,i.set(l)}return[l,i,n,c,a,u,()=>i.renameFileOrFolder(l.path[l.path.length-1].id,l.renameFolderTitle),()=>ye(i,l.renamingFolder=!1,l),()=>{ye(i,l.renamingFolder=!0,l),ye(i,l.renameFolderTitle=l.path[l.path.length-1].title,l)}]}class el extends ne{constructor(e){super();ae(this,e,Qt,Zt,re,{})}}function tl(o){let e,t,l,i,r,n,c,a;return{c(){e=y("label"),t=D("svg"),l=D("path"),i=D("path"),r=N(),n=y("input"),this.h()},l(u){e=E(u,"LABEL",{class:!0,for:!0});var h=g(e);t=z(h,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var d=g(t);l=z(d,"path",{d:!0}),g(l).forEach(f),i=z(d,"path",{d:!0}),g(i).forEach(f),d.forEach(f),r=C(h),n=E(h,"INPUT",{type:!0,name:!0,id:!0,class:!0}),h.forEach(f),this.h()},h(){s(l,"d","M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"),s(i,"d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-file-earmark-plus svelte-1odb5qt"),s(t,"viewBox","0 0 16 16"),s(n,"type","file"),s(n,"name","new-file"),s(n,"id","new-file"),s(n,"class","file-selector"),n.hidden=!0,s(e,"class","new-file-label svelte-1odb5qt"),s(e,"for","new-file")},m(u,h){B(u,e,h),_(e,t),_(t,l),_(t,i),_(e,r),_(e,n),c||(a=j(n,"change",o[5]),c=!0)},p:S,i:S,o:S,d(u){u&&f(e),c=!1,a()}}}function ll(o){let e,t,l,i,r,n,c,a,u,h,d,m;const v=[sl,il],p=[];function w(k,I){return k[0].uploadingFile?0:1}return l=w(o),i=p[l]=v[l](o),{c(){e=y("input"),t=N(),i.c(),r=N(),n=y("button"),c=D("svg"),a=D("path"),u=D("path"),this.h()},l(k){e=E(k,"INPUT",{class:!0,type:!0,name:!0,id:!0,placeholder:!0}),t=C(k),i.l(k),r=C(k),n=E(k,"BUTTON",{class:!0});var I=g(n);c=z(I,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var b=g(c);a=z(b,"path",{d:!0}),g(a).forEach(f),u=z(b,"path",{d:!0}),g(u).forEach(f),b.forEach(f),I.forEach(f),this.h()},h(){s(e,"class","file-title"),s(e,"type","text"),s(e,"name","new-file-title"),s(e,"id","new-file-title"),s(e,"placeholder","Alternate Title"),s(a,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(u,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(c,"xmlns","http://www.w3.org/2000/svg"),s(c,"width","16"),s(c,"height","16"),s(c,"fill","currentColor"),s(c,"class","bi bi-x-square svelte-1odb5qt"),s(c,"viewBox","0 0 16 16"),s(n,"class","new-file-cancel svelte-1odb5qt")},m(k,I){B(k,e,I),de(e,o[0].newFileTitle),B(k,t,I),p[l].m(k,I),B(k,r,I),B(k,n,I),_(n,c),_(c,a),_(c,u),h=!0,d||(m=[j(e,"input",o[3]),j(n,"click",o[4])],d=!0)},p(k,I){I&1&&e.value!==k[0].newFileTitle&&de(e,k[0].newFileTitle);let b=l;l=w(k),l===b?p[l].p(k,I):(ve(),A(p[b],1,1,()=>{p[b]=null}),ge(),i=p[l],i?i.p(k,I):(i=p[l]=v[l](k),i.c()),U(i,1),i.m(r.parentNode,r))},i(k){h||(U(i),h=!0)},o(k){A(i),h=!1},d(k){k&&f(e),k&&f(t),p[l].d(k),k&&f(r),k&&f(n),d=!1,ke(m)}}}function il(o){let e,t,l,i,r,n;return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),this.h()},l(c){e=E(c,"BUTTON",{class:!0});var a=g(e);t=z(a,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var u=g(t);l=z(u,"path",{d:!0}),g(l).forEach(f),i=z(u,"path",{d:!0}),g(i).forEach(f),u.forEach(f),a.forEach(f),this.h()},h(){s(l,"d","M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"),s(i,"d","M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-upload svelte-1odb5qt"),s(t,"viewBox","0 0 16 16"),s(e,"class","svelte-1odb5qt")},m(c,a){B(c,e,a),_(e,t),_(t,l),_(t,i),r||(n=j(e,"click",o[2]),r=!0)},p:S,i:S,o:S,d(c){c&&f(e),r=!1,n()}}}function sl(o){let e,t;return e=new Me({props:{padding:"0",height:"1rem",width:"1rem",color:"white"}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p:S,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function it(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p=o[0].renamingFile&&st(o);return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),r=N(),n=y("button"),c=D("svg"),a=D("path"),u=D("path"),h=N(),p&&p.c(),d=oe(),this.h()},l(w){e=E(w,"BUTTON",{class:!0});var k=g(e);t=z(k,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var I=g(t);l=z(I,"path",{d:!0}),g(l).forEach(f),i=z(I,"path",{"fill-rule":!0,d:!0}),g(i).forEach(f),I.forEach(f),k.forEach(f),r=C(w),n=E(w,"BUTTON",{class:!0});var b=g(n);c=z(b,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var $=g(c);a=z($,"path",{d:!0}),g(a).forEach(f),u=z($,"path",{d:!0}),g(u).forEach(f),$.forEach(f),b.forEach(f),h=C(w),p&&p.l(w),d=oe(),this.h()},h(){s(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),s(i,"fill-rule","evenodd"),s(i,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-trash svelte-1odb5qt"),s(t,"viewBox","0 0 16 16"),s(e,"class","new-file-btn svelte-1odb5qt"),s(a,"d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"),s(u,"d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"),s(c,"xmlns","http://www.w3.org/2000/svg"),s(c,"width","16"),s(c,"height","16"),s(c,"fill","currentColor"),s(c,"class","bi bi-gear svelte-1odb5qt"),s(c,"viewBox","0 0 16 16"),s(n,"class","folder-btn svelte-1odb5qt")},m(w,k){B(w,e,k),_(e,t),_(t,l),_(t,i),B(w,r,k),B(w,n,k),_(n,c),_(c,a),_(c,u),B(w,h,k),p&&p.m(w,k),B(w,d,k),m||(v=[j(e,"click",o[6]),j(n,"click",o[7])],m=!0)},p(w,k){w[0].renamingFile?p?p.p(w,k):(p=st(w),p.c(),p.m(d.parentNode,d)):p&&(p.d(1),p=null)},d(w){w&&f(e),w&&f(r),w&&f(n),w&&f(h),p&&p.d(w),w&&f(d),m=!1,ke(v)}}}function st(o){let e,t,l,i,r,n,c,a,u,h,d,m,v;return{c(){e=y("input"),t=N(),l=y("button"),i=D("svg"),r=D("path"),n=D("path"),c=N(),a=y("button"),u=D("svg"),h=D("path"),d=D("path"),this.h()},l(p){e=E(p,"INPUT",{type:!0,placeholder:!0}),t=C(p),l=E(p,"BUTTON",{class:!0});var w=g(l);i=z(w,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var k=g(i);r=z(k,"path",{d:!0}),g(r).forEach(f),n=z(k,"path",{d:!0}),g(n).forEach(f),k.forEach(f),w.forEach(f),c=C(p),a=E(p,"BUTTON",{class:!0});var I=g(a);u=z(I,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var b=g(u);h=z(b,"path",{d:!0}),g(h).forEach(f),d=z(b,"path",{d:!0}),g(d).forEach(f),b.forEach(f),I.forEach(f),this.h()},h(){s(e,"type","text"),s(e,"placeholder","New File Name"),s(r,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(n,"d","M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"),s(i,"xmlns","http://www.w3.org/2000/svg"),s(i,"width","16"),s(i,"height","16"),s(i,"fill","currentColor"),s(i,"class","bi bi-check-square svelte-1odb5qt"),s(i,"viewBox","0 0 16 16"),s(l,"class","folder-btn svelte-1odb5qt"),s(h,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(d,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"width","16"),s(u,"height","16"),s(u,"fill","currentColor"),s(u,"class","bi bi-x-square svelte-1odb5qt"),s(u,"viewBox","0 0 16 16"),s(a,"class","folder-btn svelte-1odb5qt")},m(p,w){B(p,e,w),de(e,o[0].renameFileTitle),B(p,t,w),B(p,l,w),_(l,i),_(i,r),_(i,n),B(p,c,w),B(p,a,w),_(a,u),_(u,h),_(u,d),m||(v=[j(e,"input",o[8]),j(l,"click",o[9]),j(a,"click",o[10])],m=!0)},p(p,w){w&1&&e.value!==p[0].renameFileTitle&&de(e,p[0].renameFileTitle)},d(p){p&&f(e),p&&f(t),p&&f(l),p&&f(c),p&&f(a),m=!1,ke(v)}}}function nl(o){let e,t,l,i,r;const n=[ll,tl],c=[];function a(h,d){return h[0].stagedFiles&&h[0].stagedFiles[0]?0:1}e=a(o),t=c[e]=n[e](o);let u=o[0].selectedFile&&it(o);return{c(){t.c(),l=N(),u&&u.c(),i=oe()},l(h){t.l(h),l=C(h),u&&u.l(h),i=oe()},m(h,d){c[e].m(h,d),B(h,l,d),u&&u.m(h,d),B(h,i,d),r=!0},p(h,[d]){let m=e;e=a(h),e===m?c[e].p(h,d):(ve(),A(c[m],1,1,()=>{c[m]=null}),ge(),t=c[e],t?t.p(h,d):(t=c[e]=n[e](h),t.c()),U(t,1),t.m(l.parentNode,l)),h[0].selectedFile?u?u.p(h,d):(u=it(h),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null)},i(h){r||(U(t),r=!0)},o(h){A(t),r=!1},d(h){c[e].d(h),h&&f(l),u&&u.d(h),h&&f(i)}}}function al(o,e,t){let l;const i=je("View");Ie(o,i,p=>t(0,l=p));async function r(){await i.uploadFile(l.stagedFiles[0])}function n(){l.newFileTitle=this.value,i.set(l)}const c=()=>ye(i,l.stagedFiles=null,l);function a(){l.stagedFiles=this.files,i.set(l)}const u=()=>i.deleteFileOrFolder(l.selectedFile.id),h=()=>ye(i,l.renamingFile=!l.renamingFile,l);function d(){l.renameFileTitle=this.value,i.set(l)}return[l,i,r,n,c,a,u,h,d,()=>i.renameFileOrFolder(l.selectedFile.id,l.renameFileTitle),()=>ye(i,l.renamingFile=!1,l)]}class rl extends ne{constructor(e){super();ae(this,e,al,nl,re,{})}}function nt(o,e,t){const l=o.slice();return l[8]=e[t],l}function at(o,e,t){const l=o.slice();return l[11]=e[t],l}function ol(o){let e,t;return e=new Me({props:{padding:"0"}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p:S,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function cl(o){let e,t,l,i,r=o[0].folders,n=[];for(let d=0;d<r.length;d+=1)n[d]=rt(at(o,r,d));let c=o[0].showCreateNewFolder&&ot(o),a=o[0].files,u=[];for(let d=0;d<a.length;d+=1)u[d]=ct(nt(o,a,d));let h=!o[0].folders&&!o[0].files&&ut();return{c(){e=y("ul");for(let d=0;d<n.length;d+=1)n[d].c();t=N(),c&&c.c(),l=N();for(let d=0;d<u.length;d+=1)u[d].c();i=N(),h&&h.c(),this.h()},l(d){e=E(d,"UL",{class:!0});var m=g(e);for(let v=0;v<n.length;v+=1)n[v].l(m);t=C(m),c&&c.l(m),l=C(m);for(let v=0;v<u.length;v+=1)u[v].l(m);i=C(m),h&&h.l(m),m.forEach(f),this.h()},h(){s(e,"class","fe svelte-owzpjh")},m(d,m){B(d,e,m);for(let v=0;v<n.length;v+=1)n[v].m(e,null);_(e,t),c&&c.m(e,null),_(e,l);for(let v=0;v<u.length;v+=1)u[v].m(e,null);_(e,i),h&&h.m(e,null)},p(d,m){if(m&5){r=d[0].folders;let v;for(v=0;v<r.length;v+=1){const p=at(d,r,v);n[v]?n[v].p(p,m):(n[v]=rt(p),n[v].c(),n[v].m(e,t))}for(;v<n.length;v+=1)n[v].d(1);n.length=r.length}if(d[0].showCreateNewFolder?c?c.p(d,m):(c=ot(d),c.c(),c.m(e,l)):c&&(c.d(1),c=null),m&1){a=d[0].files;let v;for(v=0;v<a.length;v+=1){const p=nt(d,a,v);u[v]?u[v].p(p,m):(u[v]=ct(p),u[v].c(),u[v].m(e,i))}for(;v<u.length;v+=1)u[v].d(1);u.length=a.length}!d[0].folders&&!d[0].files?h||(h=ut(),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:S,o:S,d(d){d&&f(e),Be(n,d),c&&c.d(),Be(u,d),h&&h.d()}}}function rt(o){let e,t,l,i,r=o[11].title+"",n,c,a;function u(){return o[3](o[11])}return{c(){e=y("li"),t=D("svg"),l=D("path"),i=N(),n=W(r),this.h()},l(h){e=E(h,"LI",{class:!0});var d=g(e);t=z(d,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var m=g(t);l=z(m,"path",{d:!0}),g(l).forEach(f),m.forEach(f),i=C(d),n=J(d,r),d.forEach(f),this.h()},h(){s(l,"d","M.54 3.87.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31zM2.19 4a1 1 0 0 0-.996 1.09l.637 7a1 1 0 0 0 .995.91h10.348a1 1 0 0 0 .995-.91l.637-7A1 1 0 0 0 13.81 4H2.19zm4.69-1.707A1 1 0 0 0 6.172 2H2.5a1 1 0 0 0-1 .981l.006.139C1.72 3.042 1.95 3 2.19 3h5.396l-.707-.707z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-folder"),s(t,"viewBox","0 0 16 16"),s(e,"class","folder fe-item svelte-owzpjh")},m(h,d){B(h,e,d),_(e,t),_(t,l),_(e,i),_(e,n),c||(a=j(e,"click",u),c=!0)},p(h,d){o=h,d&1&&r!==(r=o[11].title+"")&&Le(n,r)},d(h){h&&f(e),c=!1,a()}}}function ot(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I,b;return{c(){e=y("li"),t=D("svg"),l=D("path"),i=D("path"),r=N(),n=y("input"),c=N(),a=y("button"),u=D("svg"),h=D("path"),d=D("path"),m=N(),v=y("button"),p=D("svg"),w=D("path"),k=D("path"),this.h()},l($){e=E($,"LI",{class:!0});var T=g(e);t=z(T,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var F=g(t);l=z(F,"path",{d:!0}),g(l).forEach(f),i=z(F,"path",{d:!0}),g(i).forEach(f),F.forEach(f),r=C(T),n=E(T,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),c=C(T),a=E(T,"BUTTON",{class:!0});var x=g(a);u=z(x,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var L=g(u);h=z(L,"path",{d:!0}),g(h).forEach(f),d=z(L,"path",{d:!0}),g(d).forEach(f),L.forEach(f),x.forEach(f),m=C(T),v=E(T,"BUTTON",{class:!0});var V=g(v);p=z(V,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var H=g(p);w=z(H,"path",{d:!0}),g(w).forEach(f),k=z(H,"path",{d:!0}),g(k).forEach(f),H.forEach(f),V.forEach(f),T.forEach(f),this.h()},h(){s(l,"d","m.5 3 .04.87a1.99 1.99 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2zm5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19c-.24 0-.47.042-.683.12L1.5 2.98a1 1 0 0 1 1-.98h3.672z"),s(i,"d","M13.5 10a.5.5 0 0 1 .5.5V12h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V13h-1.5a.5.5 0 0 1 0-1H13v-1.5a.5.5 0 0 1 .5-.5z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-folder-plus"),s(t,"viewBox","0 0 16 16"),s(n,"type","text"),s(n,"name",""),s(n,"id",""),s(n,"placeholder","New File Title"),s(h,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(d,"d","M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"width","16"),s(u,"height","16"),s(u,"fill","currentColor"),s(u,"class","bi bi-check-square"),s(u,"viewBox","0 0 16 16"),s(a,"class","folder-btn svelte-owzpjh"),s(w,"d","M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"),s(k,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(p,"xmlns","http://www.w3.org/2000/svg"),s(p,"width","16"),s(p,"height","16"),s(p,"fill","currentColor"),s(p,"class","bi bi-x-square"),s(p,"viewBox","0 0 16 16"),s(v,"class","folder-btn svelte-owzpjh"),s(e,"class","folder fe-item svelte-owzpjh")},m($,T){B($,e,T),_(e,t),_(t,l),_(t,i),_(e,r),_(e,n),de(n,o[0].newFolderName),_(e,c),_(e,a),_(a,u),_(u,h),_(u,d),_(e,m),_(e,v),_(v,p),_(p,w),_(p,k),I||(b=[j(n,"input",o[4]),j(a,"click",o[5]),j(v,"click",o[6])],I=!0)},p($,T){T&1&&n.value!==$[0].newFolderName&&de(n,$[0].newFolderName)},d($){$&&f(e),I=!1,ke(b)}}}function ul(o){let e,t,l;return{c(){e=D("svg"),t=D("path"),l=D("path"),this.h()},l(i){e=z(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=g(e);t=z(r,"path",{d:!0}),g(t).forEach(f),l=z(r,"path",{d:!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){s(t,"d","M5.5 7a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zM5 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"),s(l,"d","M9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.5L9.5 0zm0 1v2A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width","16"),s(e,"height","16"),s(e,"fill","currentColor"),s(e,"class","bi bi-file-earmark-text"),s(e,"viewBox","0 0 16 16")},m(i,r){B(i,e,r),_(e,t),_(e,l)},d(i){i&&f(e)}}}function fl(o){let e,t,l;return{c(){e=D("svg"),t=D("path"),l=D("path"),this.h()},l(i){e=z(i,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var r=g(e);t=z(r,"path",{d:!0}),g(t).forEach(f),l=z(r,"path",{d:!0}),g(l).forEach(f),r.forEach(f),this.h()},h(){s(t,"d","M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"),s(l,"d","M1.5 2A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13zm13 1a.5.5 0 0 1 .5.5v6l-3.775-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12v.54A.505.505 0 0 1 1 12.5v-9a.5.5 0 0 1 .5-.5h13z"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"width","16"),s(e,"height","16"),s(e,"fill","currentColor"),s(e,"class","bi bi-card-image"),s(e,"viewBox","0 0 16 16")},m(i,r){B(i,e,r),_(e,t),_(e,l)},d(i){i&&f(e)}}}function ct(o){let e,t,l=o[8].title+"",i,r,n;function c(d,m){if(d[8].type=="image")return fl;if(d[8].type=="document")return ul}let a=c(o),u=a&&a(o);function h(){return o[7](o[8])}return{c(){e=y("li"),u&&u.c(),t=N(),i=W(l),this.h()},l(d){e=E(d,"LI",{class:!0});var m=g(e);u&&u.l(m),t=C(m),i=J(m,l),m.forEach(f),this.h()},h(){var d;s(e,"class","file fe-item svelte-owzpjh"),Ae(e,"selected-file",o[8].id==((d=o[0].selectedFile)==null?void 0:d.id))},m(d,m){B(d,e,m),u&&u.m(e,null),_(e,t),_(e,i),r||(n=j(e,"click",h),r=!0)},p(d,m){var v;o=d,a!==(a=c(o))&&(u&&u.d(1),u=a&&a(o),u&&(u.c(),u.m(e,t))),m&1&&l!==(l=o[8].title+"")&&Le(i,l),m&1&&Ae(e,"selected-file",o[8].id==((v=o[0].selectedFile)==null?void 0:v.id))},d(d){d&&f(e),u&&u.d(),r=!1,n()}}}function ut(o){let e,t;return{c(){e=y("li"),t=W("No Files or Foldes"),this.h()},l(l){e=E(l,"LI",{class:!0});var i=g(e);t=J(i,"No Files or Foldes"),i.forEach(f),this.h()},h(){s(e,"class","no-contents fe-item svelte-owzpjh")},m(l,i){B(l,e,i),_(e,t)},d(l){l&&f(e)}}}function dl(o){let e,t,l,i;const r=[cl,ol],n=[];function c(a,u){return a[1]&&a[0].viewLoaded?0:1}return e=c(o),t=n[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,u){n[e].m(a,u),B(a,l,u),i=!0},p(a,[u]){let h=e;e=c(a),e===h?n[e].p(a,u):(ve(),A(n[h],1,1,()=>{n[h]=null}),ge(),t=n[e],t?t.p(a,u):(t=n[e]=r[e](a),t.c()),U(t,1),t.m(l.parentNode,l))},i(a){i||(U(t),i=!0)},o(a){A(t),i=!1},d(a){n[e].d(a),a&&f(l)}}}function hl(o,e,t){let l,i=je("View");Ie(o,i,d=>t(0,l=d));async function r(d){const m=l.path.map(v=>v.id);m.push(d),i.loadFolder(m)}const n=d=>r(d.id);function c(){l.newFolderName=this.value,i.set(l)}return[l,i,r,n,c,()=>i.createNewFolder(l.path.map(d=>d.id),l.newFolderName),()=>{ye(i,l.showCreateNewFolder=!1,l),ye(i,l.newFolderName=null,l)},d=>ye(i,l.selectedFile=d,l)]}class pl extends ne{constructor(e){super();ae(this,e,hl,dl,re,{})}}function ml(){const{set:o,subscribe:e,update:t}=qe({path:[],folders:[],files:[],viewLoaded:!1,showCreateNewFolder:!1,newFolderName:null,renamingFolder:!1,renameFolderTitle:null,folderLoading:!1,selectedFile:null,stagedFiles:null,showFileUpload:!1,uploadingFile:!1,newFileTitle:null,renamingFile:!1,renameFileTitle:null});async function l(h){let d={method:"POST",body:JSON.stringify({path:h}),headers:{"Content-Type":"application/json"}};const v=await(await fetch("/api/files",d)).json();t(p=>(p.files=v.files,p.folders=v.folders,p.path=v.path,p.viewLoaded=!0,p))}async function i(h){const d=await fetch("/api/files/delete/"+h,{method:"DELETE"});if(d.ok){const m=await d.json();m.type=="File"&&t(v=>{const p=v.files.findIndex(w=>w.id==m.targetId);return v.files.splice(p,1),v.selectedFile=null,v.renameFileTitle=!1,v.renameFileTitle=null,v}),m.type=="Folder"}}async function r(h,d){const m=await fetch(`/api/files/rename/${h}/${d}`,{method:"PATCH"});if(m.ok){const v=await m.json();v.type=="File"&&t(p=>{const w=p.files.findIndex(k=>k.id==v.targetId);return p.files[w].title=v.title,p.renameFileTitle=null,p.renamingFile=!1,p}),v.type=="Folder"&&t(p=>(p.path[p.path.length-1].title=v.title,p.renameFolderTitle=null,p.renamingFolder=!1,p))}}async function n(h,d){const v=await(await fetch("/api/files/create/folder",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:h,title:d})})).json();t(p=>(p.folders.push(v),p.showCreateNewFolder=!1,p.newFolderName=null,p))}function c(h){t(d=>(d.folderLoading=h,d))}async function a(h){c(!0);const m=await(await fetch("/api/files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:h})})).json();t(v=>(v.selectedFile=null,v.folderLoading=!1,v.showFileUpload=!1,v.showCreateNewFolder=!1,v.renameFolderTitle=null,v.renamingFolder=!1,v.path=m.path,v.files=m.files,v.folders=m.folders,v))}async function u(h){let d,m;t(I=>(I.uploadingFile=!0,d=I.path,m=I.newFileTitle,I));const v=Re(Ze),p=We(v,"Media Library/"+h.name);let k=h.type.split("/")[0]=="image"?"image":"document";await Je(p,h).then(async I=>await Ge(I.ref)).then(async I=>{const $=await(await fetch("/api/files/create/file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:d,title:m||h.name,url:I,type:k})})).json();t(T=>(T.files.push($),T.selectedFile=$,T.stagedFiles=null,T.showFileUpload=!1,T.uploadingFile=!1,T))}).catch(I=>console.log(I))}return{subscribe:e,set:o,update:t,deleteFileOrFolder:i,renameFileOrFolder:r,initView:l,loadFolder:a,createNewFolder:n,uploadFile:u}}function ft(o){let e,t,l,i,r;return{c(){e=y("div"),t=y("button"),l=W("Set"),this.h()},l(n){e=E(n,"DIV",{class:!0});var c=g(e);t=E(c,"BUTTON",{class:!0});var a=g(t);l=J(a,"Set"),a.forEach(f),c.forEach(f),this.h()},h(){s(t,"class","svelte-1bd7nq"),s(e,"class","set-file shadow controls-row svelte-1bd7nq")},m(n,c){B(n,e,c),_(e,t),_(t,l),i||(r=j(e,"click",o[2]),i=!0)},p:S,d(n){n&&f(e),i=!1,r()}}}function _l(o){let e,t,l,i,r,n,c,a,u,h,d,m;l=new el({}),n=new rl({});let v=o[0].selectedFile&&ft(o);return u=new Kt({}),d=new pl({}),{c(){e=y("div"),t=y("div"),ce(l.$$.fragment),i=N(),r=y("div"),ce(n.$$.fragment),c=N(),v&&v.c(),a=N(),ce(u.$$.fragment),h=N(),ce(d.$$.fragment),this.h()},l(p){e=E(p,"DIV",{class:!0});var w=g(e);t=E(w,"DIV",{class:!0});var k=g(t);_e(l.$$.fragment,k),k.forEach(f),i=C(w),r=E(w,"DIV",{class:!0});var I=g(r);_e(n.$$.fragment,I),I.forEach(f),c=C(w),v&&v.l(w),w.forEach(f),a=C(p),_e(u.$$.fragment,p),h=C(p),_e(d.$$.fragment,p),this.h()},h(){s(t,"class","folder-controls shadow controls-row svelte-1bd7nq"),s(r,"class","file-controls shadow controls-row svelte-1bd7nq"),s(e,"class","controls-row svelte-1bd7nq")},m(p,w){B(p,e,w),_(e,t),ue(l,t,null),_(e,i),_(e,r),ue(n,r,null),_(e,c),v&&v.m(e,null),B(p,a,w),ue(u,p,w),B(p,h,w),ue(d,p,w),m=!0},p(p,[w]){p[0].selectedFile?v?v.p(p,w):(v=ft(p),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(p){m||(U(l.$$.fragment,p),U(n.$$.fragment,p),U(u.$$.fragment,p),U(d.$$.fragment,p),m=!0)},o(p){A(l.$$.fragment,p),A(n.$$.fragment,p),A(u.$$.fragment,p),A(d.$$.fragment,p),m=!1},d(p){p&&f(e),fe(l),fe(n),v&&v.d(),p&&f(a),fe(u,p),p&&f(h),fe(d,p)}}}function vl(o,e,t){let l;const i=ml();Ie(o,i,c=>t(0,l=c)),Nt("View",i),i.initView([]);const r=Ke();function n(){const c=l.selectedFile;r("setFile",{targetFile:c})}return[l,i,n]}class gl extends ne{constructor(e){super();ae(this,e,vl,_l,re,{})}}function dt(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p;function w(b,$){return b[0]?bl:wl}let k=w(o),I=k(o);return{c(){I.c(),e=N(),t=y("input"),l=N(),i=y("p"),r=W("Max-Height:"),n=N(),c=y("input"),a=N(),u=y("p"),h=W("Max-Width:"),d=N(),m=y("input"),this.h()},l(b){I.l(b),e=C(b),t=E(b,"INPUT",{type:!0,class:!0}),l=C(b),i=E(b,"P",{});var $=g(i);r=J($,"Max-Height:"),$.forEach(f),n=C(b),c=E(b,"INPUT",{type:!0,placeholder:!0,class:!0}),a=C(b),u=E(b,"P",{});var T=g(u);h=J(T,"Max-Width:"),T.forEach(f),d=C(b),m=E(b,"INPUT",{type:!0,placeholder:!0,class:!0}),this.h()},h(){s(t,"type","text"),t.disabled=!0,s(t,"class","image-title svelte-16gyta8"),s(c,"type","text"),s(c,"placeholder","Max Height"),s(c,"class","config-box svelte-16gyta8"),s(m,"type","text"),s(m,"placeholder","Max Width"),s(m,"class","config-box svelte-16gyta8")},m(b,$){I.m(b,$),B(b,e,$),B(b,t,$),de(t,o[1].selected.item.payload.imageTitle),B(b,l,$),B(b,i,$),_(i,r),B(b,n,$),B(b,c,$),de(c,o[1].selected.item.payload.maxHeight),B(b,a,$),B(b,u,$),_(u,h),B(b,d,$),B(b,m,$),de(m,o[1].selected.item.payload.maxWidth),v||(p=[j(t,"input",o[5]),j(c,"input",o[6]),j(m,"input",o[7])],v=!0)},p(b,$){k===(k=w(b))&&I?I.p(b,$):(I.d(1),I=k(b),I&&(I.c(),I.m(e.parentNode,e))),$&2&&t.value!==b[1].selected.item.payload.imageTitle&&de(t,b[1].selected.item.payload.imageTitle),$&2&&c.value!==b[1].selected.item.payload.maxHeight&&de(c,b[1].selected.item.payload.maxHeight),$&2&&m.value!==b[1].selected.item.payload.maxWidth&&de(m,b[1].selected.item.payload.maxWidth)},d(b){I.d(b),b&&f(e),b&&f(t),b&&f(l),b&&f(i),b&&f(n),b&&f(c),b&&f(a),b&&f(u),b&&f(d),b&&f(m),v=!1,ke(p)}}}function wl(o){let e,t,l,i;return{c(){e=y("button"),t=W("Replace Image"),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var n=g(e);t=J(n,"Replace Image"),n.forEach(f),this.h()},h(){s(e,"class","add-media svelte-16gyta8")},m(r,n){B(r,e,n),_(e,t),l||(i=j(e,"click",o[4]),l=!0)},p:S,d(r){r&&f(e),l=!1,i()}}}function bl(o){let e,t,l,i;return{c(){e=y("button"),t=W("Cancel"),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var n=g(e);t=J(n,"Cancel"),n.forEach(f),this.h()},h(){s(e,"class","add-media svelte-16gyta8")},m(r,n){B(r,e,n),_(e,t),l||(i=j(e,"click",o[3]),l=!0)},p:S,d(r){r&&f(e),l=!1,i()}}}function ht(o){let e,t;return e=new gl({}),e.$on("setFile",o[8]),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p:S,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function kl(o){let e,t,l,i,r=o[1].selected.item.payload&&dt(o),n=o[0]&&ht(o);return{c(){e=y("div"),r&&r.c(),t=N(),n&&n.c(),l=oe(),this.h()},l(c){e=E(c,"DIV",{class:!0});var a=g(e);r&&r.l(a),a.forEach(f),t=C(c),n&&n.l(c),l=oe(),this.h()},h(){s(e,"class","controls svelte-16gyta8")},m(c,a){B(c,e,a),r&&r.m(e,null),B(c,t,a),n&&n.m(c,a),B(c,l,a),i=!0},p(c,[a]){c[1].selected.item.payload?r?r.p(c,a):(r=dt(c),r.c(),r.m(e,null)):r&&(r.d(1),r=null),c[0]?n?(n.p(c,a),a&1&&U(n,1)):(n=ht(c),n.c(),U(n,1),n.m(l.parentNode,l)):n&&(ve(),A(n,1,1,()=>{n=null}),ge())},i(c){i||(U(n),i=!0)},o(c){A(n),i=!1},d(c){c&&f(e),r&&r.d(),c&&f(t),n&&n.d(c),c&&f(l)}}}function yl(o,e,t){let l;Ie(o,te,m=>t(1,l=m));let i=!1;te.subscribe(m=>{var v;((v=m.selected)===null||v===void 0?void 0:v.item.payload)?t(0,i=!1):t(0,i=!0)});function r(m){ye(te,l.selected.item.payload={imageUrl:m.url,imageTitle:m.title,imageId:m.id,maxHeight:500,maxWidth:500},l),t(0,i=!1)}const n=()=>t(0,i=!1),c=()=>t(0,i=!0);function a(){l.selected.item.payload.imageTitle=this.value,te.set(l)}function u(){l.selected.item.payload.maxHeight=this.value,te.set(l)}function h(){l.selected.item.payload.maxWidth=this.value,te.set(l)}return[i,l,r,n,c,a,u,h,m=>r(m.detail.targetFile)]}class El extends ne{constructor(e){super();ae(this,e,yl,kl,re,{})}}function Il(o){let e,t;return{c(){e=y("p"),t=W(o[0])},l(l){e=E(l,"P",{});var i=g(e);t=J(i,o[0]),i.forEach(f)},m(l,i){B(l,e,i),_(e,t)},p(l,[i]){i&1&&Le(t,l[0])},i:S,o:S,d(l){l&&f(e)}}}function Tl(o,e,t){let{payload:l="Insert your text"}=e;return o.$$set=i=>{"payload"in i&&t(0,l=i.payload)},[l]}class $l extends ne{constructor(e){super();ae(this,e,Tl,Il,re,{payload:0})}}function pt(o){let e,t,l,i;function r(c){o[6](c)}let n={scriptSrc:"/node_modules/tinymce/tinymce.min.js",conf:o[3],cssClass:"testtest"};return o[1]!==void 0&&(n.value=o[1]),t=new Vt({props:n}),Xe.push(()=>Lt(t,"value",r)),{c(){e=y("div"),ce(t.$$.fragment),this.h()},l(c){e=E(c,"DIV",{style:!0});var a=g(e);_e(t.$$.fragment,a),a.forEach(f),this.h()},h(){Fe(e,"height",o[0])},m(c,a){B(c,e,a),ue(t,e,null),i=!0},p(c,a){const u={};!l&&a&2&&(l=!0,u.value=c[1],Ct(()=>l=!1)),t.$set(u),(!i||a&1)&&Fe(e,"height",c[0])},i(c){i||(U(t.$$.fragment,c),i=!0)},o(c){A(t.$$.fragment,c),i=!1},d(c){c&&f(e),fe(t)}}}function Fl(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w=o[2].selected&&pt(o);return{c(){e=y("div"),t=y("button"),l=W("Set"),i=N(),r=y("button"),n=W("Cancel"),c=N(),a=y("button"),u=W("Expand"),h=N(),w&&w.c(),d=oe(),this.h()},l(k){e=E(k,"DIV",{class:!0});var I=g(e);t=E(I,"BUTTON",{class:!0});var b=g(t);l=J(b,"Set"),b.forEach(f),i=C(I),r=E(I,"BUTTON",{class:!0});var $=g(r);n=J($,"Cancel"),$.forEach(f),c=C(I),a=E(I,"BUTTON",{class:!0});var T=g(a);u=J(T,"Expand"),T.forEach(f),I.forEach(f),h=C(k),w&&w.l(k),d=oe(),this.h()},h(){s(t,"class","svelte-96fejz"),s(r,"class","svelte-96fejz"),s(a,"class","svelte-96fejz"),s(e,"class","controls svelte-96fejz")},m(k,I){B(k,e,I),_(e,t),_(t,l),_(e,i),_(e,r),_(r,n),_(e,c),_(e,a),_(a,u),B(k,h,I),w&&w.m(k,I),B(k,d,I),m=!0,v||(p=[j(t,"click",o[5]),j(r,"click",te.cancelEditItem),j(a,"click",o[4])],v=!0)},p(k,[I]){k[2].selected?w?(w.p(k,I),I&4&&U(w,1)):(w=pt(k),w.c(),U(w,1),w.m(d.parentNode,d)):w&&(ve(),A(w,1,1,()=>{w=null}),ge())},i(k){m||(U(w),m=!0)},o(k){A(w),m=!1},d(k){k&&f(e),k&&f(h),w&&w.d(k),k&&f(d),v=!1,ke(p)}}}let mt="300px",Bl="600px";function xl(o,e,t){let l;Ie(o,te,m=>t(2,l=m));let i={plugins:"lists link",toolbar:"undo redo | formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | link",menubar:!1,height:"100%",content_style:"p {margin: 1rem}",branding:!1},r=!1,n=mt,c=null,a="";te.subscribe(m=>{var v,p;(c==null?void 0:c.item.id)!==((v=m.selected)===null||v===void 0?void 0:v.item.id)&&((p=m.selected)===null||p===void 0?void 0:p.item.type)=="Rich Text"&&(c=m.selected,t(1,a=m.selected.item.payload.content))});function u(){r?(t(0,n=mt),r=!1):(t(0,n=Bl),r=!0)}const h=()=>te.updateItemPayload(l.selected.rowId,l.selected.columnId,l.selected.itemId,{content:a});function d(m){a=m,t(1,a)}return[n,a,l,i,u,h,d]}class Dl extends ne{constructor(e){super();ae(this,e,xl,Fl,re,{})}}function zl(o){let e,t;return{c(){e=y("p"),t=W("- Empty -"),this.h()},l(l){e=E(l,"P",{class:!0});var i=g(e);t=J(i,"- Empty -"),i.forEach(f),this.h()},h(){s(e,"class","empty svelte-vwd61l")},m(l,i){B(l,e,i),_(e,t)},p:S,i:S,o:S,d(l){l&&f(e)}}}function Nl(o){let e,t,l;return t=new jt({props:{source:o[0].content}}),{c(){e=y("div"),ce(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var r=g(e);_e(t.$$.fragment,r),r.forEach(f),this.h()},h(){s(e,"class","display svelte-vwd61l")},m(i,r){B(i,e,r),ue(t,e,null),l=!0},p(i,r){const n={};r&1&&(n.source=i[0].content),t.$set(n)},i(i){l||(U(t.$$.fragment,i),l=!0)},o(i){A(t.$$.fragment,i),l=!1},d(i){i&&f(e),fe(t)}}}function Cl(o){let e,t,l,i;const r=[Nl,zl],n=[];function c(a,u){return a[0]?0:1}return e=c(o),t=n[e]=r[e](o),{c(){t.c(),l=oe()},l(a){t.l(a),l=oe()},m(a,u){n[e].m(a,u),B(a,l,u),i=!0},p(a,[u]){let h=e;e=c(a),e===h?n[e].p(a,u):(ve(),A(n[h],1,1,()=>{n[h]=null}),ge(),t=n[e],t?t.p(a,u):(t=n[e]=r[e](a),t.c()),U(t,1),t.m(l.parentNode,l))},i(a){i||(U(t),i=!0)},o(a){A(t),i=!1},d(a){n[e].d(a),a&&f(l)}}}function Vl(o,e,t){let{payload:l={content:"Insert your text"}}=e;return o.$$set=i=>{"payload"in i&&t(0,l=i.payload)},[l]}class Ll extends ne{constructor(e){super();ae(this,e,Vl,Cl,re,{payload:0})}}class jl extends ne{constructor(e){super();ae(this,e,null,null,re,{})}}function Ml(o){let e;return{c(){e=W("No Text")},l(t){e=J(t,"No Text")},m(t,l){B(t,e,l)},p:S,d(t){t&&f(e)}}}function Ul(o){let e=o[0].text+"",t;return{c(){t=W(e)},l(l){t=J(l,e)},m(l,i){B(l,t,i)},p(l,i){i&1&&e!==(e=l[0].text+"")&&Le(t,e)},d(l){l&&f(t)}}}function Hl(o){let e,t;function l(n,c){return n[0]?Ul:Ml}let i=l(o),r=i(o);return{c(){e=y("div"),t=y("button"),r.c(),this.h()},l(n){e=E(n,"DIV",{class:!0});var c=g(e);t=E(c,"BUTTON",{class:!0});var a=g(t);r.l(a),a.forEach(f),c.forEach(f),this.h()},h(){s(t,"class","svelte-pjytak"),s(e,"class","svelte-pjytak")},m(n,c){B(n,e,c),_(e,t),r.m(t,null)},p(n,[c]){i===(i=l(n))&&r?r.p(n,c):(r.d(1),r=i(n),r&&(r.c(),r.m(t,null)))},i:S,o:S,d(n){n&&f(e),r.d()}}}function Ol(o,e,t){let{payload:l}=e;return o.$$set=i=>{"payload"in i&&t(0,l=i.payload)},[l]}class Pl extends ne{constructor(e){super();ae(this,e,Ol,Hl,re,{payload:0})}}function _t(o,e,t){const l=o.slice();return l[9]=e[t],l}function vt(o){let e,t=o[9]+"",l,i;return{c(){e=y("option"),l=W(t),this.h()},l(r){e=E(r,"OPTION",{});var n=g(e);l=J(n,t),n.forEach(f),this.h()},h(){e.__value=i=o[9],e.value=e.__value},m(r,n){B(r,e,n),_(e,l)},p:S,d(r){r&&f(e)}}}function Sl(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I,b,$,T,F,x,L,V,H,K,X,O,ee,we,pe=o[3],le=[];for(let ie=0;ie<pe.length;ie+=1)le[ie]=vt(_t(o,pe,ie));return{c(){e=y("div"),t=y("div"),l=y("p"),i=W("Button Text"),r=N(),n=y("input"),c=N(),a=y("div"),u=y("p"),h=W("Link"),d=N(),m=y("input"),v=N(),p=y("div"),w=y("p"),k=W("Style"),I=N(),b=y("select");for(let ie=0;ie<le.length;ie+=1)le[ie].c();$=N(),T=y("a"),F=W("Test Link"),L=N(),V=y("button"),H=W("Set"),K=N(),X=y("button"),O=W("Cancel"),this.h()},l(ie){e=E(ie,"DIV",{class:!0});var P=g(e);t=E(P,"DIV",{class:!0});var M=g(t);l=E(M,"P",{});var Z=g(l);i=J(Z,"Button Text"),Z.forEach(f),r=C(M),n=E(M,"INPUT",{type:!0,id:!0}),M.forEach(f),c=C(P),a=E(P,"DIV",{class:!0});var q=g(a);u=E(q,"P",{});var se=g(u);h=J(se,"Link"),se.forEach(f),d=C(q),m=E(q,"INPUT",{type:!0,id:!0}),q.forEach(f),v=C(P),p=E(P,"DIV",{class:!0});var R=g(p);w=E(R,"P",{});var Q=g(w);k=J(Q,"Style"),Q.forEach(f),I=C(R),b=E(R,"SELECT",{name:!0,id:!0});var G=g(b);for(let Ee=0;Ee<le.length;Ee+=1)le[Ee].l(G);G.forEach(f),R.forEach(f),$=C(P),T=E(P,"A",{href:!0,target:!0,class:!0});var Y=g(T);F=J(Y,"Test Link"),Y.forEach(f),L=C(P),V=E(P,"BUTTON",{class:!0});var be=g(V);H=J(be,"Set"),be.forEach(f),K=C(P),X=E(P,"BUTTON",{class:!0});var he=g(X);O=J(he,"Cancel"),he.forEach(f),P.forEach(f),this.h()},h(){s(n,"type","text"),s(n,"id","text-input"),s(t,"class","control"),s(m,"type","text"),s(m,"id","text-input"),s(a,"class","control"),s(b,"name","Button Types"),s(b,"id","button-selector"),o[1]===void 0&&Mt(()=>o[6].call(b)),s(p,"class","control"),s(T,"href",x=o[0].linkTo),s(T,"target","_blank"),s(T,"class","svelte-18m45ez"),s(V,"class","svelte-18m45ez"),s(X,"class","svelte-18m45ez"),s(e,"class","container svelte-18m45ez")},m(ie,P){B(ie,e,P),_(e,t),_(t,l),_(l,i),_(t,r),_(t,n),de(n,o[0].text),_(e,c),_(e,a),_(a,u),_(u,h),_(a,d),_(a,m),de(m,o[0].linkTo),_(e,v),_(e,p),_(p,w),_(w,k),_(p,I),_(p,b);for(let M=0;M<le.length;M+=1)le[M].m(b,null);Ye(b,o[1]),_(e,$),_(e,T),_(T,F),_(e,L),_(e,V),_(V,H),_(e,K),_(e,X),_(X,O),ee||(we=[j(n,"input",o[4]),j(m,"input",o[5]),j(b,"change",o[6]),j(V,"click",o[7]),j(X,"click",te.cancelEditItem)],ee=!0)},p(ie,[P]){if(P&1&&n.value!==ie[0].text&&de(n,ie[0].text),P&1&&m.value!==ie[0].linkTo&&de(m,ie[0].linkTo),P&8){pe=ie[3];let M;for(M=0;M<pe.length;M+=1){const Z=_t(ie,pe,M);le[M]?le[M].p(Z,P):(le[M]=vt(Z),le[M].c(),le[M].m(b,null))}for(;M<le.length;M+=1)le[M].d(1);le.length=pe.length}P&10&&Ye(b,ie[1]),P&1&&x!==(x=ie[0].linkTo)&&s(T,"href",x)},i:S,o:S,d(ie){ie&&f(e),Be(le,ie),ee=!1,ke(we)}}}function Al(o,e,t){let l;Ie(o,te,m=>t(2,l=m));let i={color:"Teal",linkTo:"/",text:"Call to Action"},r=null,n=["Teal","Purple","Grey"],c="Teal";te.subscribe(m=>{var v,p;((v=m.selected)===null||v===void 0?void 0:v.item.id)!==(r==null?void 0:r.item.id)&&((p=m.selected)===null||p===void 0?void 0:p.item.type)=="Button"&&(r=m.selected,t(0,i=Se({},m.selected.item.payload)))});function a(){i.text=this.value,t(0,i)}function u(){i.linkTo=this.value,t(0,i)}function h(){c=Ut(this),t(1,c),t(3,n)}return[i,c,l,n,a,u,h,()=>te.updateItemPayload(l.selected.rowId,l.selected.columnId,l.selected.itemId,i)]}class ql extends ne{constructor(e){super();ae(this,e,Al,Sl,re,{})}}const Ue=[{title:"Image",viewComponent:Pt,configComponent:El,previewComponent:Wt,defaultPayload:null},{title:"Rich Text",viewComponent:$l,configComponent:Dl,previewComponent:Ll,defaultPayload:{content:"Duis eu rutrum eros. Donec luctus commodo erat, in ornare mauris pulvinar vehicula. Suspendisse quis ultrices eros. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Donec dui tellus, vulputate sed molestie nec, scelerisque ac magna. Vestibulum iaculis, justo id suscipit varius, nibh sem hendrerit urna, id mattis purus velit ut augue. Mauris at mi semper, lacinia magna vitae, ultrices odio. Nam non dolor odio. Curabitur vitae auctor ex, ultricies auctor tortor. Phasellus elementum aliquet facilisis."}},{title:"Button",viewComponent:jl,configComponent:ql,previewComponent:Pl,defaultPayload:{linkTo:"/",color:"teal",text:"Call to Action"}}];function Rl(){const{subscribe:o,set:e,update:t}=qe({postData:null,editing:!1,selected:null,expandEditor:!1});function l($){e({postData:$,editing:!1,expandEditor:!1,selected:null})}function i(){t($=>($.postData.content.push({id:me(),columns:[{id:me(),items:[]}]}),$))}function r($){t(T=>{const F=T.postData.content.filter(x=>x.id!=$);return T.postData.content=F,T.editing=!1,T})}function n($){t(T=>{let F=T.postData.content;const x=F.findIndex(H=>H.id==$);if(x<=0)return T;const L=F[x],V=F[x-1];return F[x]=V,F[x-1]=L,T.postData.content=F,T})}function c($){t(T=>{let F=T.postData.content;const x=F.findIndex(H=>H.id==$);if(x>=F.length-1)return T;const L=F[x],V=F[x+1];return F[x]=V,F[x+1]=L,T.postData.content=F,T})}function a($){t(T=>{const F=T.postData.content.findIndex(x=>x.id==$);return T.postData.content[F].columns.push({id:me(),items:[]}),T})}function u($,T){t(F=>{const x=F.postData.content[$].columns.filter(L=>L.id!=T);return F.postData.content[$].columns=x,F.editing=!1,F})}function h($,T){T>0&&t(F=>{let x=F.postData.content[$].columns;const L=x[T],V=x[T-1];return x[T-1]=L,x[T]=V,F.postData.content[$].columns=x,F})}function d($,T){t(F=>{if(T<F.postData.content[$].columns.length-1){let x=[...F.postData.content[$].columns];const L=x[T],V=x[T+1];return x[T+1]=L,x[T]=V,F.postData.content[$].columns=x,F}return F})}function m($,T,F){t(L=>{const V=L.postData.content.findIndex(O=>O.id==$),H=L.postData.content[V].columns.findIndex(O=>O.id==T),X={id:me(),type:F,payload:Ue.find(O=>O.title==F).defaultPayload};return L.postData.content[V].columns[H].items.push(X),L});const x=document.getElementById("addItemFocus");x&&x.focus()}function v($,T,F){t(x=>{const L=x.postData.content.findIndex(K=>K.id==$),V=x.postData.content[L].columns.findIndex(K=>K.id==T);let H=x.postData.content[L].columns[V].items.filter(K=>K.id!=F);return x.postData.content[L].columns[V].items=H,x.editing&&x.selected.itemId==F&&(x.editing=!1,x.selected=null),x})}function p($,T,F){t(x=>{let L=x.postData.content.find(V=>V.id==$).columns.find(V=>V.id==T).items.find(V=>V.id==F);return x.selected={rowId:$,columnId:T,itemId:F,item:L},x.editing=!0,x})}function w(){t($=>($.editing=!1,$.selected=null,$))}function k($,T,F){t(x=>{const L=x.postData.content.findIndex(ee=>ee.id==$),V=x.postData.content[L].columns.findIndex(ee=>ee.id==T);let H=x.postData.content[L].columns[V].items;const K=H.findIndex(ee=>ee.id==F);if(K<=0)return x;const X=H[K],O=H[K-1];return H[K]=O,H[K-1]=X,x.postData.content[L].columns[V].items=H,x})}function I($,T,F){t(x=>{const L=x.postData.content.findIndex(ee=>ee.id==$),V=x.postData.content[L].columns.findIndex(ee=>ee.id==T);let H=x.postData.content[L].columns[V].items;const K=H.findIndex(ee=>ee.id==F);if(K>=H.length-1)return x;const X=H[K],O=H[K+1];return H[K]=O,H[K+1]=X,x.postData.content[L].columns[V].items=H,x})}function b($,T,F,x){t(L=>{const V=L.postData.content.findIndex(X=>X.id==$),H=L.postData.content[V].columns.findIndex(X=>X.id==T),K=L.postData.content[V].columns[H].items.findIndex(X=>X.id==F);return L.postData.content[V].columns[H].items[K].payload=x,L.editing=!1,L.selected=null,L})}return{set:e,subscribe:o,initStore:l,addRow:i,deleteRow:r,moveRowUp:n,moveRowDown:c,addColumn:a,deleteColumn:u,moveColumnLeft:h,moveColumnRight:d,addItem:m,selectEditItem:p,cancelEditItem:w,moveItemUp:k,moveItemDown:I,updateItemPayload:b,deleteItem:v}}const te=Rl();function Wl(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I;return{c(){e=y("button"),t=D("svg"),l=D("path"),i=D("path"),r=N(),n=y("button"),c=D("svg"),a=D("path"),u=N(),h=y("button"),d=D("svg"),m=D("path"),v=N(),p=y("button"),w=W("Close"),this.h()},l(b){e=E(b,"BUTTON",{title:!0,class:!0});var $=g(e);t=z($,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var T=g(t);l=z(T,"path",{d:!0}),g(l).forEach(f),i=z(T,"path",{"fill-rule":!0,d:!0}),g(i).forEach(f),T.forEach(f),$.forEach(f),r=C(b),n=E(b,"BUTTON",{title:!0,class:!0});var F=g(n);c=z(F,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var x=g(c);a=z(x,"path",{"fill-rule":!0,d:!0}),g(a).forEach(f),x.forEach(f),F.forEach(f),u=C(b),h=E(b,"BUTTON",{title:!0,class:!0});var L=g(h);d=z(L,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var V=g(d);m=z(V,"path",{"fill-rule":!0,d:!0}),g(m).forEach(f),V.forEach(f),L.forEach(f),v=C(b),p=E(b,"BUTTON",{title:!0,class:!0});var H=g(p);w=J(H,"Close"),H.forEach(f),this.h()},h(){s(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),s(i,"fill-rule","evenodd"),s(i,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-trash svelte-19murli"),s(t,"viewBox","0 0 16 16"),s(e,"title","Delete Item"),s(e,"class","svelte-19murli"),s(a,"fill-rule","evenodd"),s(a,"d","M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"),s(c,"xmlns","http://www.w3.org/2000/svg"),s(c,"width","16"),s(c,"height","16"),s(c,"fill","currentColor"),s(c,"class","bi bi-arrow-up-short svelte-19murli"),s(c,"viewBox","0 0 16 16"),s(n,"title","Move Item Up"),s(n,"class","svelte-19murli"),s(m,"fill-rule","evenodd"),s(m,"d","M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"),s(d,"xmlns","http://www.w3.org/2000/svg"),s(d,"width","16"),s(d,"height","16"),s(d,"fill","currentColor"),s(d,"class","bi bi-arrow-down-short svelte-19murli"),s(d,"viewBox","0 0 16 16"),s(h,"title","Move Item Down"),s(h,"class","svelte-19murli"),s(p,"title","Close Editor"),s(p,"class","close-button svelte-19murli")},m(b,$){B(b,e,$),_(e,t),_(t,l),_(t,i),B(b,r,$),B(b,n,$),_(n,c),_(c,a),B(b,u,$),B(b,h,$),_(h,d),_(d,m),B(b,v,$),B(b,p,$),_(p,w),k||(I=[j(e,"click",o[3]),j(n,"click",o[4]),j(h,"click",o[5]),j(p,"click",te.cancelEditItem)],k=!0)},p:S,i:S,o:S,d(b){b&&f(e),b&&f(r),b&&f(n),b&&f(u),b&&f(h),b&&f(v),b&&f(p),k=!1,ke(I)}}}function Jl(o,e,t){let{rowId:l}=e,{columnId:i}=e,{itemId:r}=e;const n=()=>te.deleteItem(l,i,r),c=()=>te.moveItemUp(l,i,r),a=()=>te.moveItemDown(l,i,r);return o.$$set=u=>{"rowId"in u&&t(0,l=u.rowId),"columnId"in u&&t(1,i=u.columnId),"itemId"in u&&t(2,r=u.itemId)},[l,i,r,n,c,a]}class Gl extends ne{constructor(e){super();ae(this,e,Jl,Wl,re,{rowId:0,columnId:1,itemId:2})}}function Kl(o){let e,t,l,i,r,n,c,a,u;n=new Gl({props:{rowId:o[0].selected.rowId,columnId:o[0].selected.columnId,itemId:o[0].selected.itemId}});var h=o[1];function d(m){return{}}return h&&(a=new h(d())),{c(){e=y("div"),t=y("div"),l=y("h3"),i=W("Item Config"),r=N(),ce(n.$$.fragment),c=N(),a&&ce(a.$$.fragment),this.h()},l(m){e=E(m,"DIV",{class:!0});var v=g(e);t=E(v,"DIV",{class:!0});var p=g(t);l=E(p,"H3",{class:!0});var w=g(l);i=J(w,"Item Config"),w.forEach(f),r=C(p),_e(n.$$.fragment,p),p.forEach(f),c=C(v),a&&_e(a.$$.fragment,v),v.forEach(f),this.h()},h(){s(l,"class","title svelte-zma1lo"),s(t,"class","row svelte-zma1lo"),s(e,"class","editor svelte-zma1lo")},m(m,v){B(m,e,v),_(e,t),_(t,l),_(l,i),_(t,r),ue(n,t,null),_(e,c),a&&ue(a,e,null),u=!0},p(m,[v]){const p={};if(v&1&&(p.rowId=m[0].selected.rowId),v&1&&(p.columnId=m[0].selected.columnId),v&1&&(p.itemId=m[0].selected.itemId),n.$set(p),h!==(h=m[1])){if(a){ve();const w=a;A(w.$$.fragment,1,0,()=>{fe(w,1)}),ge()}h?(a=new h(d()),ce(a.$$.fragment),U(a.$$.fragment,1),ue(a,e,null)):a=null}},i(m){u||(U(n.$$.fragment,m),a&&U(a.$$.fragment,m),u=!0)},o(m){A(n.$$.fragment,m),a&&A(a.$$.fragment,m),u=!1},d(m){m&&f(e),fe(n),a&&fe(a)}}}function Xl(o,e,t){let l,i;return Ie(o,te,r=>t(0,i=r)),o.$$.update=()=>{o.$$.dirty&1&&t(1,l=Ue.find(r=>r.title==i.selected.item.type).configComponent)},[i,l]}class Yl extends ne{constructor(e){super();ae(this,e,Xl,Kl,re,{})}}function gt(o,e,t){const l=o.slice();return l[4]=e[t],l}function wt(o){let e,t=o[4]+"",l,i,r;function n(){return o[2](o[4])}return{c(){e=y("button"),l=W(t),this.h()},l(c){e=E(c,"BUTTON",{class:!0});var a=g(e);l=J(a,t),a.forEach(f),this.h()},h(){s(e,"class","svelte-1anhcjc")},m(c,a){B(c,e,a),_(e,l),i||(r=j(e,"click",n),i=!0)},p(c,a){o=c},d(c){c&&f(e),i=!1,r()}}}function Zl(o){let e,t,l,i,r,n,c=o[1],a=[];for(let u=0;u<c.length;u+=1)a[u]=wt(gt(o,c,u));return{c(){e=y("div");for(let u=0;u<a.length;u+=1)a[u].c();t=N(),l=y("button"),i=W("Cancel"),this.h()},l(u){e=E(u,"DIV",{class:!0});var h=g(e);for(let m=0;m<a.length;m+=1)a[m].l(h);t=C(h),l=E(h,"BUTTON",{class:!0});var d=g(l);i=J(d,"Cancel"),d.forEach(f),h.forEach(f),this.h()},h(){s(l,"class","svelte-1anhcjc"),s(e,"class","item-types svelte-1anhcjc")},m(u,h){B(u,e,h);for(let d=0;d<a.length;d+=1)a[d].m(e,null);_(e,t),_(e,l),_(l,i),r||(n=j(l,"click",o[3]),r=!0)},p(u,[h]){if(h&3){c=u[1];let d;for(d=0;d<c.length;d+=1){const m=gt(u,c,d);a[d]?a[d].p(m,h):(a[d]=wt(m),a[d].c(),a[d].m(e,t))}for(;d<a.length;d+=1)a[d].d(1);a.length=c.length}},i:S,o:S,d(u){u&&f(e),Be(a,u),r=!1,n()}}}function Ql(o){const e=Ke(),t=Ue.map(r=>r.title);return[e,t,r=>e("selection",r),()=>e("cancel")]}class ei extends ne{constructor(e){super();ae(this,e,Ql,Zl,re,{})}}function ti(o){let e,t,l,i,r;var n=o[4];function c(a){return{props:{payload:a[2].payload}}}return n&&(t=new n(c(o)),o[5](t)),{c(){e=y("div"),t&&ce(t.$$.fragment),this.h()},l(a){e=E(a,"DIV",{class:!0});var u=g(e);t&&_e(t.$$.fragment,u),u.forEach(f),this.h()},h(){s(e,"class","item svelte-12mvby")},m(a,u){B(a,e,u),t&&ue(t,e,null),l=!0,i||(r=j(e,"click",o[6]),i=!0)},p(a,[u]){const h={};if(u&4&&(h.payload=a[2].payload),n!==(n=a[4])){if(t){ve();const d=t;A(d.$$.fragment,1,0,()=>{fe(d,1)}),ge()}n?(t=new n(c(a)),a[5](t),ce(t.$$.fragment),U(t.$$.fragment,1),ue(t,e,null)):t=null}else n&&t.$set(h)},i(a){l||(t&&U(t.$$.fragment,a),l=!0)},o(a){t&&A(t.$$.fragment,a),l=!1},d(a){a&&f(e),o[5](null),t&&fe(t),i=!1,r()}}}function li(o,e,t){let l,{rowId:i}=e,{columnId:r}=e,{item:n}=e,c;function a(h){Xe[h?"unshift":"push"](()=>{c=h,t(3,c)})}const u=()=>te.selectEditItem(i,r,n.id);return o.$$set=h=>{"rowId"in h&&t(0,i=h.rowId),"columnId"in h&&t(1,r=h.columnId),"item"in h&&t(2,n=h.item)},o.$$.update=()=>{o.$$.dirty&4&&t(4,l=Ue.find(h=>h.title==n.type).previewComponent)},[i,r,n,c,l,a,u]}class ii extends ne{constructor(e){super();ae(this,e,li,ti,re,{rowId:0,columnId:1,item:2})}}function bt(o,e,t){const l=o.slice();return l[15]=e[t],l[17]=t,l}function si(o){let e,t,l,i;return{c(){e=y("button"),t=W("Add Item"),this.h()},l(r){e=E(r,"BUTTON",{class:!0});var n=g(e);t=J(n,"Add Item"),n.forEach(f),this.h()},h(){s(e,"class","empty-column svelte-jwzxud")},m(r,n){B(r,e,n),_(e,t),l||(i=j(e,"click",o[6]),l=!0)},p:S,i:S,o:S,d(r){r&&f(e),l=!1,i()}}}function ni(o){let e,t,l=o[2].items,i=[];for(let n=0;n<l.length;n+=1)i[n]=kt(bt(o,l,n));const r=n=>A(i[n],1,1,()=>{i[n]=null});return{c(){for(let n=0;n<i.length;n+=1)i[n].c();e=oe()},l(n){for(let c=0;c<i.length;c+=1)i[c].l(n);e=oe()},m(n,c){for(let a=0;a<i.length;a+=1)i[a].m(n,c);B(n,e,c),t=!0},p(n,c){if(c&7){l=n[2].items;let a;for(a=0;a<l.length;a+=1){const u=bt(n,l,a);i[a]?(i[a].p(u,c),U(i[a],1)):(i[a]=kt(u),i[a].c(),U(i[a],1),i[a].m(e.parentNode,e))}for(ve(),a=l.length;a<i.length;a+=1)r(a);ge()}},i(n){if(!t){for(let c=0;c<l.length;c+=1)U(i[c]);t=!0}},o(n){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)A(i[c]);t=!1},d(n){Be(i,n),n&&f(e)}}}function kt(o){let e,t;return e=new ii({props:{item:o[15],rowId:o[0],columnId:o[1]}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&4&&(r.item=l[15]),i&1&&(r.rowId=l[0]),i&2&&(r.columnId=l[1]),e.$set(r)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function yt(o){let e,t;return e=new ei({}),e.$on("cancel",o[7]),e.$on("selection",o[8]),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p:S,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function ai(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I,b,$,T,F,x,L,V,H,K,X,O,ee,we,pe,le,ie;const P=[ni,si],M=[];function Z(se,R){return se[2].items.length?0:se[3]?-1:1}~(l=Z(o))&&(i=M[l]=P[l](o));let q=o[3]&&yt(o);return{c(){e=y("div"),t=y("div"),i&&i.c(),r=N(),q&&q.c(),n=N(),c=y("div"),a=y("div"),u=y("span"),h=W("Column:"),d=N(),m=y("button"),v=D("svg"),p=D("path"),w=N(),k=y("button"),I=D("svg"),b=D("path"),$=N(),T=y("button"),F=D("svg"),x=D("path"),L=N(),V=y("button"),H=D("svg"),K=D("path"),X=N(),O=y("button"),ee=D("svg"),we=D("path"),this.h()},l(se){e=E(se,"DIV",{class:!0});var R=g(e);t=E(R,"DIV",{class:!0});var Q=g(t);i&&i.l(Q),r=C(Q),q&&q.l(Q),Q.forEach(f),n=C(R),c=E(R,"DIV",{class:!0});var G=g(c);a=E(G,"DIV",{class:!0});var Y=g(a);u=E(Y,"SPAN",{class:!0});var be=g(u);h=J(be,"Column:"),be.forEach(f),d=C(Y),m=E(Y,"BUTTON",{class:!0,title:!0});var he=g(m);v=z(he,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ee=g(v);p=z(Ee,"path",{d:!0}),g(p).forEach(f),Ee.forEach(f),he.forEach(f),w=C(Y),k=E(Y,"BUTTON",{class:!0,title:!0});var $e=g(k);I=z($e,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Te=g(I);b=z(Te,"path",{"fill-rule":!0,d:!0}),g(b).forEach(f),Te.forEach(f),$e.forEach(f),$=C(Y),T=E(Y,"BUTTON",{class:!0,title:!0});var ze=g(T);F=z(ze,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ne=g(F);x=z(Ne,"path",{d:!0}),g(x).forEach(f),Ne.forEach(f),ze.forEach(f),L=C(Y),V=E(Y,"BUTTON",{class:!0,title:!0});var xe=g(V);H=z(xe,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ce=g(H);K=z(Ce,"path",{"fill-rule":!0,d:!0}),g(K).forEach(f),Ce.forEach(f),xe.forEach(f),X=C(Y),O=E(Y,"BUTTON",{class:!0,title:!0});var De=g(O);ee=z(De,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Ve=g(ee);we=z(Ve,"path",{"fill-rule":!0,d:!0}),g(we).forEach(f),Ve.forEach(f),De.forEach(f),Y.forEach(f),G.forEach(f),R.forEach(f),this.h()},h(){s(t,"class","column-content svelte-jwzxud"),s(u,"class","col-title svelte-jwzxud"),s(p,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),s(v,"xmlns","http://www.w3.org/2000/svg"),s(v,"width","16"),s(v,"height","16"),s(v,"fill","currentColor"),s(v,"class","bi bi-plus"),s(v,"viewBox","0 0 16 16"),s(m,"class","column-option svelte-jwzxud"),s(m,"title","Add Item"),s(b,"fill-rule","evenodd"),s(b,"d","M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5z"),s(I,"xmlns","http://www.w3.org/2000/svg"),s(I,"width","16"),s(I,"height","16"),s(I,"fill","currentColor"),s(I,"class","bi bi-text-paragraph"),s(I,"viewBox","0 0 16 16"),s(k,"class","column-option svelte-jwzxud"),s(k,"title","Add Paragraph"),s(x,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(F,"xmlns","http://www.w3.org/2000/svg"),s(F,"width","16"),s(F,"height","16"),s(F,"fill","currentColor"),s(F,"class","bi bi-x"),s(F,"viewBox","0 0 16 16"),s(T,"class","column-option svelte-jwzxud"),s(T,"title","Delete Column"),s(K,"fill-rule","evenodd"),s(K,"d","M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"),s(H,"xmlns","http://www.w3.org/2000/svg"),s(H,"width","16"),s(H,"height","16"),s(H,"fill","currentColor"),s(H,"class","bi bi-arrow-left-short"),s(H,"viewBox","0 0 16 16"),s(V,"class","column-option svelte-jwzxud"),s(V,"title","Move Column Left"),s(we,"fill-rule","evenodd"),s(we,"d","M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"),s(ee,"xmlns","http://www.w3.org/2000/svg"),s(ee,"width","16"),s(ee,"height","16"),s(ee,"fill","currentColor"),s(ee,"class","bi bi-arrow-right-short"),s(ee,"viewBox","0 0 16 16"),s(O,"class","column-option svelte-jwzxud"),s(O,"title","Move Column Right"),s(a,"class","column-controls svelte-jwzxud"),s(c,"class","column-options svelte-jwzxud"),s(e,"class","column svelte-jwzxud")},m(se,R){B(se,e,R),_(e,t),~l&&M[l].m(t,null),_(t,r),q&&q.m(t,null),_(e,n),_(e,c),_(c,a),_(a,u),_(u,h),_(a,d),_(a,m),_(m,v),_(v,p),_(a,w),_(a,k),_(k,I),_(I,b),_(a,$),_(a,T),_(T,F),_(F,x),_(a,L),_(a,V),_(V,H),_(H,K),_(a,X),_(a,O),_(O,ee),_(ee,we),pe=!0,le||(ie=[j(m,"click",o[9]),j(k,"click",o[10]),j(T,"click",o[11]),j(V,"click",o[12]),j(O,"click",o[13])],le=!0)},p(se,[R]){let Q=l;l=Z(se),l===Q?~l&&M[l].p(se,R):(i&&(ve(),A(M[Q],1,1,()=>{M[Q]=null}),ge()),~l?(i=M[l],i?i.p(se,R):(i=M[l]=P[l](se),i.c()),U(i,1),i.m(t,r)):i=null),se[3]?q?(q.p(se,R),R&8&&U(q,1)):(q=yt(se),q.c(),U(q,1),q.m(t,null)):q&&(ve(),A(q,1,1,()=>{q=null}),ge())},i(se){pe||(U(i),U(q),pe=!0)},o(se){A(i),A(q),pe=!1},d(se){se&&f(e),~l&&M[l].d(),q&&q.d(),le=!1,ke(ie)}}}function ri(o,e,t){let l;Ie(o,te,b=>t(14,l=b));let{rowId:i}=e,r=l.postData.content.findIndex(b=>b.id==i),{columnId:n}=e,{column:c}=e,a=!1,u=l.postData.content[r].columns.findIndex(b=>b.id===n);const h=()=>t(3,a=!a),d=()=>t(3,a=!1),m=b=>{te.addItem(i,n,b.detail),t(3,a=!1)},v=()=>t(3,a=!a),p=()=>te.addItem(i,n,"Rich Text"),w=()=>te.deleteColumn(r,c.id),k=()=>te.moveColumnLeft(r,u),I=()=>te.moveColumnRight(r,u);return o.$$set=b=>{"rowId"in b&&t(0,i=b.rowId),"columnId"in b&&t(1,n=b.columnId),"column"in b&&t(2,c=b.column)},[i,n,c,a,r,u,h,d,m,v,p,w,k,I]}class oi extends ne{constructor(e){super();ae(this,e,ri,ai,re,{rowId:0,columnId:1,column:2})}}function Et(o,e,t){const l=o.slice();return l[19]=e[t],l[21]=t,l}function It(o,e,t){const l=o.slice();return l[22]=e[t],l[24]=t,l}function ci(o){let e;return{c(){e=W("Publish")},l(t){e=J(t,"Publish")},m(t,l){B(t,e,l)},d(t){t&&f(e)}}}function ui(o){let e;return{c(){e=W("Revoke")},l(t){e=J(t,"Revoke")},m(t,l){B(t,e,l)},d(t){t&&f(e)}}}function fi(o){let e,t,l,i,r,n,c,a,u;return{c(){e=y("li"),t=y("button"),l=W("Cancel"),i=N(),r=y("li"),n=y("button"),c=W("Confirm"),this.h()},l(h){e=E(h,"LI",{class:!0});var d=g(e);t=E(d,"BUTTON",{});var m=g(t);l=J(m,"Cancel"),m.forEach(f),d.forEach(f),i=C(h),r=E(h,"LI",{class:!0});var v=g(r);n=E(v,"BUTTON",{});var p=g(n);c=J(p,"Confirm"),p.forEach(f),v.forEach(f),this.h()},h(){s(e,"class","heading-list-item svelte-1wigjxr"),s(r,"class","heading-list-item svelte-1wigjxr")},m(h,d){B(h,e,d),_(e,t),_(t,l),B(h,i,d),B(h,r,d),_(r,n),_(n,c),a||(u=[j(t,"click",o[11]),j(n,"click",o[8])],a=!0)},p:S,d(h){h&&f(e),h&&f(i),h&&f(r),a=!1,ke(u)}}}function di(o){let e,t,l,i,r;return{c(){e=y("li"),t=y("button"),l=W("Delete"),this.h()},l(n){e=E(n,"LI",{class:!0});var c=g(e);t=E(c,"BUTTON",{});var a=g(t);l=J(a,"Delete"),a.forEach(f),c.forEach(f),this.h()},h(){s(e,"class","heading-list-item svelte-1wigjxr")},m(n,c){B(n,e,c),_(e,t),_(t,l),i||(r=j(t,"click",o[10]),i=!0)},p:S,d(n){n&&f(e),i=!1,r()}}}function hi(o){let e,t,l,i;return{c(){e=y("button"),t=W("Set")},l(r){e=E(r,"BUTTON",{});var n=g(e);t=J(n,"Set"),n.forEach(f)},m(r,n){B(r,e,n),_(e,t),l||(i=j(e,"click",o[7]),l=!0)},p:S,i:S,o:S,d(r){r&&f(e),l=!1,i()}}}function pi(o){let e,t,l,i,r,n,c,a;return{c(){e=y("label"),t=D("svg"),l=D("path"),i=D("path"),r=N(),n=y("input"),this.h()},l(u){e=E(u,"LABEL",{for:!0,class:!0});var h=g(e);t=z(h,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var d=g(t);l=z(d,"path",{d:!0}),g(l).forEach(f),i=z(d,"path",{d:!0}),g(i).forEach(f),d.forEach(f),r=C(h),n=E(h,"INPUT",{type:!0,id:!0,class:!0}),h.forEach(f),this.h()},h(){s(l,"d","M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5z"),s(i,"d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"),s(t,"xmlns","http://www.w3.org/2000/svg"),s(t,"width","16"),s(t,"height","16"),s(t,"fill","currentColor"),s(t,"class","bi bi-file-earmark-plus svelte-1wigjxr"),s(t,"viewBox","0 0 16 16"),s(n,"type","file"),s(n,"id","pdf-upload"),s(n,"class","pdf-upload svelte-1wigjxr"),s(e,"for","pdf-upload"),s(e,"class","pdf-upload-label svelte-1wigjxr")},m(u,h){B(u,e,h),_(e,t),_(t,l),_(t,i),_(e,r),_(e,n),c||(a=j(n,"change",o[13]),c=!0)},p:S,i:S,o:S,d(u){u&&f(e),c=!1,a()}}}function mi(o){let e,t;return e=new Me({props:{padding:"0",height:"1rem",width:"1rem"}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p:S,i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function _i(o){let e,t,l,i;return{c(){e=y("button"),t=W("Remove")},l(r){e=E(r,"BUTTON",{});var n=g(e);t=J(n,"Remove"),n.forEach(f)},m(r,n){B(r,e,n),_(e,t),l||(i=j(e,"click",o[12]),l=!0)},p:S,i:S,o:S,d(r){r&&f(e),l=!1,i()}}}function Tt(o){let e,t,l=o[4].postData.content,i=[];for(let n=0;n<l.length;n+=1)i[n]=Ft(Et(o,l,n));const r=n=>A(i[n],1,1,()=>{i[n]=null});return{c(){e=y("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=E(n,"DIV",{class:!0});var c=g(e);for(let a=0;a<i.length;a+=1)i[a].l(c);c.forEach(f),this.h()},h(){s(e,"class","rows svelte-1wigjxr")},m(n,c){B(n,e,c);for(let a=0;a<i.length;a+=1)i[a].m(e,null);t=!0},p(n,c){if(c&16){l=n[4].postData.content;let a;for(a=0;a<l.length;a+=1){const u=Et(n,l,a);i[a]?(i[a].p(u,c),U(i[a],1)):(i[a]=Ft(u),i[a].c(),U(i[a],1),i[a].m(e,null))}for(ve(),a=l.length;a<i.length;a+=1)r(a);ge()}},i(n){if(!t){for(let c=0;c<l.length;c+=1)U(i[c]);t=!0}},o(n){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)A(i[c]);t=!1},d(n){n&&f(e),Be(i,n)}}}function $t(o){let e,t;return e=new oi({props:{rowId:o[19].id,columnId:o[22].id,column:o[22]}}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},p(l,i){const r={};i&16&&(r.rowId=l[19].id),i&16&&(r.columnId=l[22].id),i&16&&(r.column=l[22]),e.$set(r)},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function Ft(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I,b,$,T,F,x,L,V,H,K,X=o[19].columns,O=[];for(let P=0;P<X.length;P+=1)O[P]=$t(It(o,X,P));const ee=P=>A(O[P],1,1,()=>{O[P]=null});function we(){return o[14](o[19])}function pe(){return o[15](o[19])}function le(){return o[16](o[19])}function ie(){return o[17](o[19])}return{c(){e=y("div"),t=y("div");for(let P=0;P<O.length;P+=1)O[P].c();l=N(),i=y("div"),r=y("span"),n=W("Row"),c=N(),a=y("button"),u=D("svg"),h=D("path"),d=N(),m=y("button"),v=D("svg"),p=D("path"),w=N(),k=y("button"),I=D("svg"),b=D("path"),$=N(),T=y("button"),F=D("svg"),x=D("path"),L=N(),this.h()},l(P){e=E(P,"DIV",{class:!0});var M=g(e);t=E(M,"DIV",{class:!0});var Z=g(t);for(let Te=0;Te<O.length;Te+=1)O[Te].l(Z);Z.forEach(f),l=C(M),i=E(M,"DIV",{class:!0});var q=g(i);r=E(q,"SPAN",{class:!0});var se=g(r);n=J(se,"Row"),se.forEach(f),c=C(q),a=E(q,"BUTTON",{class:!0,title:!0});var R=g(a);u=z(R,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Q=g(u);h=z(Q,"path",{d:!0}),g(h).forEach(f),Q.forEach(f),R.forEach(f),d=C(q),m=E(q,"BUTTON",{class:!0,title:!0});var G=g(m);v=z(G,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var Y=g(v);p=z(Y,"path",{"fill-rule":!0,d:!0}),g(p).forEach(f),Y.forEach(f),G.forEach(f),w=C(q),k=E(q,"BUTTON",{class:!0,title:!0});var be=g(k);I=z(be,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var he=g(I);b=z(he,"path",{"fill-rule":!0,d:!0}),g(b).forEach(f),he.forEach(f),be.forEach(f),$=C(q),T=E(q,"BUTTON",{class:!0,title:!0});var Ee=g(T);F=z(Ee,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var $e=g(F);x=z($e,"path",{d:!0}),g(x).forEach(f),$e.forEach(f),Ee.forEach(f),q.forEach(f),L=C(M),M.forEach(f),this.h()},h(){s(t,"class","row-content svelte-1wigjxr"),s(r,"class","row-title svelte-1wigjxr"),s(h,"d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"),s(u,"xmlns","http://www.w3.org/2000/svg"),s(u,"width","16"),s(u,"height","16"),s(u,"fill","currentColor"),s(u,"class","bi bi-plus svelte-1wigjxr"),s(u,"viewBox","0 0 16 16"),s(a,"class","row-option svelte-1wigjxr"),s(a,"title","Add Columnt to Row"),s(p,"fill-rule","evenodd"),s(p,"d","M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"),s(v,"xmlns","http://www.w3.org/2000/svg"),s(v,"width","16"),s(v,"height","16"),s(v,"fill","currentColor"),s(v,"class","bi bi-arrow-up-short svelte-1wigjxr"),s(v,"viewBox","0 0 16 16"),s(m,"class","row-option svelte-1wigjxr"),s(m,"title","Move Row Up"),s(b,"fill-rule","evenodd"),s(b,"d","M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4z"),s(I,"xmlns","http://www.w3.org/2000/svg"),s(I,"width","16"),s(I,"height","16"),s(I,"fill","currentColor"),s(I,"class","bi bi-arrow-down-short svelte-1wigjxr"),s(I,"viewBox","0 0 16 16"),s(k,"class","row-option svelte-1wigjxr"),s(k,"title","Move Row Down"),s(x,"d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"),s(F,"xmlns","http://www.w3.org/2000/svg"),s(F,"width","16"),s(F,"height","16"),s(F,"fill","currentColor"),s(F,"class","bi bi-x svelte-1wigjxr"),s(F,"viewBox","0 0 16 16"),s(T,"class","row-option svelte-1wigjxr"),s(T,"title","Delete Row"),s(i,"class","row-options svelte-1wigjxr"),s(e,"class","row svelte-1wigjxr")},m(P,M){B(P,e,M),_(e,t);for(let Z=0;Z<O.length;Z+=1)O[Z].m(t,null);_(e,l),_(e,i),_(i,r),_(r,n),_(i,c),_(i,a),_(a,u),_(u,h),_(i,d),_(i,m),_(m,v),_(v,p),_(i,w),_(i,k),_(k,I),_(I,b),_(i,$),_(i,T),_(T,F),_(F,x),_(e,L),V=!0,H||(K=[j(a,"click",we),j(m,"click",pe),j(k,"click",le),j(T,"click",ie)],H=!0)},p(P,M){if(o=P,M&16){X=o[19].columns;let Z;for(Z=0;Z<X.length;Z+=1){const q=It(o,X,Z);O[Z]?(O[Z].p(q,M),U(O[Z],1)):(O[Z]=$t(q),O[Z].c(),U(O[Z],1),O[Z].m(t,null))}for(ve(),Z=X.length;Z<O.length;Z+=1)ee(Z);ge()}},i(P){if(!V){for(let M=0;M<X.length;M+=1)U(O[M]);V=!0}},o(P){O=O.filter(Boolean);for(let M=0;M<O.length;M+=1)A(O[M]);V=!1},d(P){P&&f(e),Be(O,P),H=!1,ke(K)}}}function Bt(o){let e,t;return e=new Yl({}),{c(){ce(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,i){ue(e,l,i),t=!0},i(l){t||(U(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){fe(e,l)}}}function vi(o){let e,t,l,i,r,n,c,a,u,h,d,m,v,p,w,k,I,b,$,T,F,x,L,V,H,K,X,O,ee;function we(G,Y){return G[0].published?ui:ci}let pe=we(o),le=pe(o);function ie(G,Y){return G[3]?fi:di}let P=ie(o),M=P(o);const Z=[_i,mi,pi,hi],q=[];function se(G,Y){return G[0].pdfUrl?0:G[2]?1:G[1]?3:2}$=se(o),T=q[$]=Z[$](o);let R=o[4].postData.content&&Tt(o),Q=o[4].editing&&Bt();return{c(){e=y("div"),t=y("div"),l=y("ul"),i=y("li"),r=y("input"),n=N(),c=y("li"),a=y("button"),u=W("Save"),h=N(),d=y("li"),m=y("button"),le.c(),v=N(),M.c(),p=N(),w=y("li"),k=y("p"),I=W("PDF:"),b=N(),T.c(),F=N(),x=y("div"),R&&R.c(),L=N(),V=y("button"),H=W("Add Row"),K=N(),Q&&Q.c(),this.h()},l(G){e=E(G,"DIV",{class:!0});var Y=g(e);t=E(Y,"DIV",{class:!0});var be=g(t);l=E(be,"UL",{class:!0});var he=g(l);i=E(he,"LI",{class:!0});var Ee=g(i);r=E(Ee,"INPUT",{type:!0,placeholder:!0}),Ee.forEach(f),n=C(he),c=E(he,"LI",{class:!0});var $e=g(c);a=E($e,"BUTTON",{});var Te=g(a);u=J(Te,"Save"),Te.forEach(f),$e.forEach(f),h=C(he),d=E(he,"LI",{class:!0});var ze=g(d);m=E(ze,"BUTTON",{});var Ne=g(m);le.l(Ne),Ne.forEach(f),ze.forEach(f),v=C(he),M.l(he),p=C(he),w=E(he,"LI",{class:!0});var xe=g(w);k=E(xe,"P",{});var Ce=g(k);I=J(Ce,"PDF:"),Ce.forEach(f),b=C(xe),T.l(xe),xe.forEach(f),he.forEach(f),be.forEach(f),F=C(Y),x=E(Y,"DIV",{class:!0});var De=g(x);R&&R.l(De),L=C(De),V=E(De,"BUTTON",{class:!0});var Ve=g(V);H=J(Ve,"Add Row"),Ve.forEach(f),De.forEach(f),K=C(Y),Q&&Q.l(Y),Y.forEach(f),this.h()},h(){s(r,"type","text"),s(r,"placeholder","Post Title"),s(i,"class","heading-list-item svelte-1wigjxr"),s(c,"class","heading-list-item svelte-1wigjxr"),s(d,"class","heading-list-item svelte-1wigjxr"),s(w,"class","heading-list-item svelte-1wigjxr"),s(l,"class","heading-list svelte-1wigjxr"),s(t,"class","journal-heading svelte-1wigjxr"),s(V,"class","add-row svelte-1wigjxr"),s(x,"class","post-editor svelte-1wigjxr"),s(e,"class","grid svelte-1wigjxr")},m(G,Y){B(G,e,Y),_(e,t),_(t,l),_(l,i),_(i,r),de(r,o[0].title),_(l,n),_(l,c),_(c,a),_(a,u),_(l,h),_(l,d),_(d,m),le.m(m,null),_(l,v),M.m(l,null),_(l,p),_(l,w),_(w,k),_(k,I),_(w,b),q[$].m(w,null),_(e,F),_(e,x),R&&R.m(x,null),_(x,L),_(x,V),_(V,H),_(e,K),Q&&Q.m(e,null),X=!0,O||(ee=[j(r,"input",o[9]),j(a,"click",o[5]),j(m,"click",o[6]),j(V,"click",te.addRow)],O=!0)},p(G,[Y]){Y&1&&r.value!==G[0].title&&de(r,G[0].title),pe!==(pe=we(G))&&(le.d(1),le=pe(G),le&&(le.c(),le.m(m,null))),P===(P=ie(G))&&M?M.p(G,Y):(M.d(1),M=P(G),M&&(M.c(),M.m(l,p)));let be=$;$=se(G),$===be?q[$].p(G,Y):(ve(),A(q[be],1,1,()=>{q[be]=null}),ge(),T=q[$],T?T.p(G,Y):(T=q[$]=Z[$](G),T.c()),U(T,1),T.m(w,null)),G[4].postData.content?R?(R.p(G,Y),Y&16&&U(R,1)):(R=Tt(G),R.c(),U(R,1),R.m(x,L)):R&&(ve(),A(R,1,1,()=>{R=null}),ge()),G[4].editing?Q?Y&16&&U(Q,1):(Q=Bt(),Q.c(),U(Q,1),Q.m(e,null)):Q&&(ve(),A(Q,1,1,()=>{Q=null}),ge())},i(G){X||(U(T),U(R),U(Q),X=!0)},o(G){A(T),A(R),A(Q),X=!1},d(G){G&&f(e),le.d(),M.d(),q[$].d(),R&&R.d(),Q&&Q.d(),O=!1,ke(ee)}}}async function Ti({params:o,fetch:e}){let t;const l=o.id;return l=="new"?t=Ot():(t=await(await e(`/api/journals/${l}`)).json(),console.log(t)),{props:{postData:t}}}const $i=!1;function gi(o,e,t){let l;Ie(o,te,F=>t(4,l=F));let{postData:i}=e,r=null,n=!1,c=!1;te.initStore(i);async function a(){let F={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};await(await fetch("/api/journals",F)).json()}async function u(){await a();const F=!i.published;await(await fetch(`/api/journals/publish/${i.id}/${F}`)).json(),t(0,i.published=F,i),t(0,i.publishedDate=new Date,i)}async function h(){t(2,n=!0);const F=r[0];let x=["Journals","PDF Versions"],L=i.title;const V=Re(Ze),H=We(V,"Media Library/"+L);let X=F.type.split("/")[0]=="image"?"image":"document";await Je(H,F).then(async O=>await Ge(O.ref)).then(async O=>{const we=await(await fetch("/api/files/create/file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:x,title:L||F.name,url:O,type:X})})).json();t(0,i.pdfUrl=we.url,i),t(2,n=!1),t(1,r=null)}).catch(O=>console.log(O))}async function d(){await fetch("/api/journals/"+i.id,{method:"DELETE",headers:{"Content-Type":"application/json"}}),Ht("/admin/portal/journal")}function m(){i.title=this.value,t(0,i)}const v=()=>t(3,c=!0),p=()=>t(3,c=!1),w=()=>t(0,i.pdfUrl=null,i);function k(){r=this.files,t(1,r)}const I=F=>te.addColumn(F.id),b=F=>te.moveRowUp(F.id),$=F=>te.moveRowDown(F.id),T=F=>te.deleteRow(F.id);return o.$$set=F=>{"postData"in F&&t(0,i=F.postData)},[i,r,n,c,l,a,u,h,d,m,v,p,w,k,I,b,$,T]}class Fi extends ne{constructor(e){super();ae(this,e,gi,vi,re,{postData:0})}}export{Fi as default,Ti as load,$i as ssr};
